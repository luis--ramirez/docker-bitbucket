define("bitbucket/internal/impl/data-provider/pull-request-list",["lodash","bitbucket/util/navbuilder","bitbucket/internal/bbui/data-provider/pull-request-list","bitbucket/internal/model-transformer","bitbucket/internal/util/object"],function(f,g,d,h,k){function b(a){d.apply(this,arguments)}function l(a){function b(a,e){return e?{role:a,username:e}:null}var c={};a.target_ref_id&&(c.at=a.target_ref_id);a.state&&(c.state=a.state);[b("AUTHOR",a.author_id),b("REVIEWER",a.reviewer_id)].filter(f.identity).forEach(function(a,
b){b++;c["role."+b]=a.role;c["username."+b]=a.username});return c}k.inherits(b,d);b.prototype._getBuilder=function(){return g.rest().currentRepo().allPullRequests().withParams({avatarSize:bitbucket.internal.widget.avatarSizeInPx({size:"medium"}),order:"newest"}).withParams(l(this.filter))};b.prototype._transform=function(a){return(a.values||[]).map(h.pullRequest)};b.prototype._errorTransform=function(a){return a};return b});