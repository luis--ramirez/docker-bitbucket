define("bitbucket/internal/util/analytics",["aui","jquery","bitbucket/internal/util/navigator","exports"],function(g,d,c,e){function f(a){var b={d_platform:c.shortPlatform(),d_browser:c.shortBrowser(),d_version:c.majorVersion(),d_windowHeight:window.innerHeight,d_windowWidth:window.innerWidth,d_screenHeight:screen.height,d_screenWidth:screen.width};return d.extend({},a,b)}e.add=function(a,b,c){if(a){if(null!=b&&!d.isPlainObject(b))throw Error("Analytics only supports plain objects");0!==a.indexOf("stash.client.")&&
(a="stash.client."+a);c&&(b=f(b));a=d.extend({name:a},{data:b});g.trigger("analytics",a)}};e._mixinDemographics=f});