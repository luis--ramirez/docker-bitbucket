define("bitbucket/internal/util/ajax",["jquery","lodash","bitbucket/util/server","bitbucket/internal/util/error","exports"],function(f,g,d,h,a){a.ignore404WithinRepository=function(a){return{404:function(d,k,c,b,e){if(h.isErrorEntityWithinRepository(b&&b.errors&&b.errors.length&&b.errors[0]))return a&&a(b)||!1}}};a.ajax=d.ajax;a.rest=d.rest;a.poll=d.poll;a.formToJSON=function(a){var d=g.reduce(a.find("input[type\x3dcheckbox]:checked"),function(a,c){var b=f(c);"on"===b.attr("value")&&(a[b.attr("name")]=
!0);return a},{});return g.reduce(a.serializeArray(),function(a,c){var b=a[c.name],e=void 0===c.value?"":c.value;d[c.name]&&(e=!0);void 0!==b?(f.isArray(b)||(a[c.name]=[b]),a[c.name].push(e)):a[c.name]=e;return a},{})}});