define("bitbucket/internal/util/bacon","bacon jquery lodash bitbucket/internal/util/events bitbucket/internal/util/function bitbucket/internal/util/performance exports".split(" "),function(l,g,h,m,n,p,d){d.events=function(a){return l.fromBinder(function(b){return m.chain().on(a,b).destroy})};d.split=function(a,b){return l.fromBinder(function(c){var k=[],e,f=[];f.push(a.onValue(function(a){var f=b(a);e&&f!==e&&(c(k),k=[]);e=f;k.push(a)}));f.push(a.onEnd(function(){0<k.length&&c(k);c(new l.End)}));
return h.partial(n.applyAll,f)})};d.toArray=function(a){var b=[];a.onValue(function(a){b.push(a)});return b};d.getWindowScrollProperty=h.once(function(){function a(){return{left:b.scrollLeft(),top:b.scrollTop()}}var b=g(window),c=l.fromBinder(function(a){var e=p.enqueueCapped(requestAnimationFrame,a),c=h.debounce(e,20);b.on("scroll",e).on("scroll",c);return function(){b.off("scroll",e).off("scroll",c)}}).map(a).skipDuplicates(function(a,b){return a.left===b.left&&a.top===b.top}).toProperty(a());c.onValue(g.noop);
return c});d.getWindowSizeProperty=h.once(function(){var a=g(window),a=l.fromBinder(function(a){var c=m.chain().on("window.resize",function(c,e){a(new l.Next({width:c,height:e}))});return function(){c.destroy()}}).toProperty({width:a.width(),height:a.height()});a.onValue(g.noop);return a});d.takeBetween=function(a,b){var c=b.start,k=b.end,e=b.startInclusive,f=b.endInclusive,d=b.equals||function(a,b){return a===b};if(d(c,k))return e||f?a.skipWhile(function(a){return!d(a,c)}).take(1):l.never();var g,
h;return a.skipWhile(function(a){return h||g?!1:d(a,c)?(g=!0,!e):d(a,k)?(h=!0,!f):!0}).takeWhile(function(a){return d(a,c)?(g=!0,e):d(a,k)?(h=!0,f):!(h&&g)})}});