define("bitbucket/internal/model/commit-range",["backbone-brace","bitbucket/internal/model/pull-request","bitbucket/internal/model/revision"],function(c,d,b){return c.Model.extend({namedAttributes:{pullRequest:d,untilRevision:b,sinceRevision:b},initialize:function(){if(!this.getUntilRevision())if(this.getPullRequest()){var a=this.getPullRequest().getFromRef();this.setUntilRevision(a&&new b({id:a.getLatestCommit()}));a=this.getPullRequest().getToRef();this.setSinceRevision(a&&new b({id:a.getLatestCommit()}))}else throw Error("Commits range requires either a pull request or revision(s)");
this.getSinceRevision()&&"ROOT"===this.getSinceRevision().getId()&&this.setSinceRevision(void 0);this.setId(this.getPullRequest()?this.getPullRequest().getId():this.getUntilRevision().getId()+"_"+(this.getSinceRevision()?this.getSinceRevision().getId():"ROOT"))}})});