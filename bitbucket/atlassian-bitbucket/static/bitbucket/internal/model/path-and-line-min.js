define("bitbucket/internal/model/path-and-line",["bitbucket/internal/model/path"],function(f){function g(a,d,b){this.path=new f(a&&a.path||a);if(d)this.line={no:d,type:b||"TO"};else if(a&&a.line)this.line=a.line;else if(a=this.path.getComponents(),b=a.length-1,0<=b){var c=a[b],e=Math.max(c.lastIndexOf("?F"),c.lastIndexOf("?T"));0<e&&(d=Number(c.substring(e+2))||void 0)&&(this.line={no:d,type:"F"===c[e+1]?"FROM":"TO"},a[b]=c.substring(0,e),this.path=new f(a))}}g.prototype.toString=function(){return this.path.toString()+
(this.line?("FROM"===this.line.type?"?F":"?T")+this.line.no:"")};return g});