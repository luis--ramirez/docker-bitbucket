define("bitbucket/internal/feature/comments/activity-comment-container",["jquery","lodash","bitbucket/internal/feature/comments/comment-container","bitbucket/internal/util/events"],function(d,c,b,f){return b.extend({initialize:function(){b.prototype.initialize.apply(this,arguments)},rootCommentListSelector:".pull-request-activity",events:c.extend({},b.prototype.events,{"focus .general-comment-form textarea":"onGeneralFormTextareaFocused"}),initDeleteButtons:function(){this.createDeleteDialog().attachTo(".general-comment-activity .delete",
null,this.el)},insertCommentIntoList:function(a,e,d){if(e.is(this.rootCommentListSelector)){var c=e.children(":first");a.insertAfter(c)}else b.prototype.insertCommentIntoList.apply(this,arguments)},closeCommentForm:function(a){a.find(".error").remove();a.is(".general-comment-form")?(this._unbindMarkupEditor(a),a.addClass("collapsed"),a.find("textarea").val("").removeClass("restored").removeAttr("title").blur(),this.deleteDraftComment(this.getDraftCommentFromForm(a))):b.prototype.closeCommentForm.apply(this,
arguments)},getExtraCommentClasses:function(){return"general-comment-activity"},onGeneralFormTextareaFocused:function(a){a=d(a.target).closest(".general-comment-form");a.hasClass("collapsed")&&(this._bindMarkupEditor(a),a.removeClass("collapsed"))}})});