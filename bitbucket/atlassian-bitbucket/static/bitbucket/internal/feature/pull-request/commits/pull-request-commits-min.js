define("bitbucket/internal/feature/pull-request/pull-request-commits","aui jquery bitbucket/util/navbuilder bitbucket/internal/feature/commits/commits-table bitbucket/internal/util/events bitbucket/internal/util/history exports".split(" "),function(g,c,h,k,l,m,d){function n(){return h.currentRepo().pullRequest(f).commits()}var f,a;d.init=function(b){f=b.pullRequest.getId();var e=c(bitbucket.internal.feature.pullRequest.commits({repository:b.repository.toJSON(),commitsTableWebSections:b.commitsTableWebSections})),
d=c("\x3cdiv /\x3e").append(e);a=new k(n,{target:e,webSections:b.commitsTableWebSections,allCommitsFetchedMessage:g.I18n.getText("bitbucket.web.pullrequest.allcommitsfetched")});c(b.el).append(a.$spinner);e=a.init({suspended:!0}).done(function(){c(b.el).prepend(d.children());a.resume()});a.bindKeyboardShortcuts();c(document).on("click",".commits-table a.commitid",function(a){l.trigger("bitbucket.internal.feature.pullRequest.commit.open");var b=c(a.target).closest("tr").attr("data-commit-json");b&&
(m.pushState({commit:JSON.parse(b)},null,a.target.href),a.preventDefault())});return e};d.reset=function(){a.destroy();a=null}});