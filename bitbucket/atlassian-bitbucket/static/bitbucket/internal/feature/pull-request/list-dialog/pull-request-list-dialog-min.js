define("bitbucket/internal/feature/pull-request-list-dialog","aui jquery lodash bitbucket/util/navbuilder bitbucket/internal/feature/pull-request/pull-request-table bitbucket/internal/model/page-state bitbucket/internal/util/ajax bitbucket/internal/util/events bitbucket/internal/widget/avatar-list".split(" "),function(e,d,k,l,m,n,p,b,q){function r(){return l.rest().currentRepo().allPullRequests()}function t(){a.initShortcuts();b.on("bitbucket.internal.widget.keyboard-shortcuts.register-contexts",
function(a){a.enableContext("pull-request-list")});b.on("bitbucket.internal.keyboard.shortcuts.requestMoveToNextHandler",a.bindMoveToNextHandler);b.on("bitbucket.internal.keyboard.shortcuts.requestMoveToPreviousHandler",a.bindMoveToPreviousHandler);b.on("bitbucket.internal.keyboard.shortcuts.requestOpenItemHandler",a.bindOpenItemHandler);b.on("bitbucket.internal.keyboard.shortcuts.pullrequest.requestHighlightAssignedHandler",a.bindHighlightAssignedHandler)}function u(c,b,d,h,f){var g=(new e.Dialog({width:980,
height:480,id:"pull-request-list-dialog",closeOnOutsideClick:!0})).addHeader(e.I18n.getText("bitbucket.web.pullrequest.listdialog.header"));a=new m(h,f,r,{direction:b,source:d});g.addPanel("",c);g.addCancel(e.I18n.getText("bitbucket.web.button.close"),k.bind(g.hide,g));return g}function h(){d(document).off("hideLayer",h);c&&(c.remove(),c=null);a&&(a=null)}function v(b){return p.rest({url:a.buildUrl(0,25)}).fail(function(){b&&b.hide()}).done(function(d){c.getCurrentPanel().html(bitbucket.internal.feature.pullRequest.pullRequestTable({pullRequestPage:d,
showStatus:"true",hideAuthorName:"true"},null,{principal:n.getCurrentUser().toJSON()}));a.init();q.init();t();b.updateHeight()})}var c,a;return{showFor:function(a,b,e,k){h();d(document).on("hideLayer",h);var f=d('\x3cdiv class\x3d"spinner"\x3e\x3c/div\x3e');c=u(f,a,b,e,k);c.show();f.show().spin("large");v(c).always(function(){f.spinStop().remove()})}}});