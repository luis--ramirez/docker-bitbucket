define("bitbucket/internal/feature/commit/difftree/difftree-search-input","aui bacon jquery lodash bitbucket/internal/util/events bitbucket/internal/util/function".split(" "),function(e,g,h,k,d,f){function b(b){this.$el=h(bitbucket.internal.feature.difftree.searchInput(b));this._destroyables=[];var c=this.$el.find("input"),a=this.$el.find(".delete-button");this._destroyables.push(d.chainWith(a).on("click",function(a){a.preventDefault();c.val("").trigger("input")}));this._destroyables.push(d.chainWith(c).on("input",
function(b){a.toggle(!!this.value)}))}g;b.prototype.getInputs=function(){var b=this.$el.find(".delete-button").asEventStream("click"),c=this.$el.find("input").asEventStream("keyup"),a=f.dotEq.bind(null,"keyCode"),d=c.filter(a(e.keyCode.ESCAPE)),a=a(e.keyCode.ENTER);return c.filter(a).merge(d).doAction(".preventDefault").doAction(".currentTarget.blur").filter(a).flatMap(function(a){return a.target.value}).merge(b.map(f.constant(""))).skipDuplicates()};b.prototype.destroy=function(){k.invoke(this._destroyables,
"destroy")};return b});