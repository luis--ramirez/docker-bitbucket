define("bitbucket/internal/feature/compare/compare-commits","aui jquery lodash bitbucket/util/navbuilder bitbucket/internal/feature/commits/commits-table bitbucket/internal/util/bacon".split(" "),function(f,k,l,d,m,e){function n(a){var b=a.getSourceRepository();return d.project(b.getProject()).repo(b).commits().withParams({until:a.getSourceBranch().getLatestCommit(),since:a.getTargetBranch().getLatestCommit(),secondaryRepositoryId:a.getTargetRepository().getId()})}return function(a){var b=e.events("bitbucket.internal.widget.keyboard-shortcuts.register-contexts");
return function(g,d){var h=k(bitbucket.internal.feature.compare.commits({repository:g.getSourceRepository().toJSON(),commitsTableWebSections:a}));d.append(h);var c=new m(l.partial(n,g),{target:h,webSections:a,allFetchedMessageHtml:f.I18n.getText("bitbucket.web.repository.compare.allcommitsfetched"),noneFoundMessageHtml:f.I18n.getText("bitbucket.web.repository.compare.nocommitsfetched")});c.init({suspended:!0}).done(function(){c.resume()});var e=b.onValue(function(a){a.enableContext("commits")});c.bindKeyboardShortcuts();
return function(){e();c.destroy()}}}});