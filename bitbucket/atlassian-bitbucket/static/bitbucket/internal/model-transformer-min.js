define("bitbucket/internal/model-transformer",["bitbucket/internal/bbui/models/models","exports"],function(d,c){function b(a){return function(c){var b=a.apply(null,arguments);b&&(b._stash=c);return b}}function e(a){return a?{avatar_url:a.avatarUrl,display_name:a.displayName,email_address:a.emailAddress,is_active:Boolean(a.active),is_admin:Boolean(a.isAdmin),name:a.name,slug:a.slug,type:a.type}:null}function f(a,b){return a?{role:b,state:a.status,user:e(a.user)}:null}function l(a){return f(a,d.UserRole.AUTHOR)}
function m(a){return f(a,d.UserRole.REVIEWER)}function n(a){return f(a,d.UserRole.PARTICIPANT)}function g(a){return a?(new Date(a)).toISOString():null}function h(a,b,c){return a?{display_id:a.displayId,id:a.id,is_default:Boolean(a.isDefault),latest_commit:a.latestCommit,repository:k(a.repository)||c,type:b}:null}function p(a){return a?{id:String(a.id),name:a.name,key:a.key,description:a.description||"",type:a.type,owner:e(a.owner),is_public:a.public||!1,avatar_url:a.avatarUrl}:null}function k(a){return a?
{id:String(a.id),is_forkable:a.forkable,is_public:a.public,name:a.name,origin:k(a.origin),project:p(a.project),scm_id:a.scmId,slug:a.slug}:null}c.user=b(e);c.author=b(l);c.reviewer=b(m);c.participant=b(n);c.date=g;c.ref=b(h);c.repository=b(k);c.project=b(p);c.pullRequest=b(function(a){return a?{author:l(a.author),created_date:g(a.createdDate),description:a.description,from_ref:h(a.fromRef,d.RefType.BRANCH),id:String(a.id),participants:a.participants.map(n),reviewers:a.reviewers.map(m),state:a.state,
title:a.title,to_ref:h(a.toRef,d.RefType.BRANCH),updated_date:g(a.updatedDate),version:a.version,comment_count:a.properties&&a.properties.commentCount||0,task_count:a.properties&&a.properties.openTaskCount}:null})});