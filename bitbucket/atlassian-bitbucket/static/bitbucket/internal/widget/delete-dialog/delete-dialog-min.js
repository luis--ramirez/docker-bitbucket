define("bitbucket/internal/widget/delete-dialog",["aui","jquery","bitbucket/internal/widget/confirm-dialog","exports"],function(c,h,m,f){f.bind=function(f,b,n,p,k,l){b=new m({id:"delete-dialog",titleClass:"warning-header",titleText:b,panelContent:bitbucket.internal.widget.deleteDialog(),submitText:c.I18n.getText("bitbucket.web.button.delete")},{type:"DELETE",statusCode:{"*":!1}});var g=function(e){h("#content .aui-page-panel .notifications").empty().html(e)};b.addConfirmListener(function(e,b){e.done(function(a){a=
a?a.displayName?a.displayName:a.name?a.name:"":"";var b=n.replace("{0}",c.escapeHtml(a));(a=!k||k(a))&&!a.promise?g(aui.message.success({content:b})):a&&a.promise&&a.done(function(){g(aui.message.success({content:b}))})}).fail(function(a,b,e,d){a=c.escapeHtml(d&&d.errors&&d.errors[0]&&d.errors[0].message?d.errors[0].message:p);g(aui.message.error({content:a}))})});b.attachTo(f,function(b,c){var a=l?l():h(b).data("for");c.getPanel(0).body.find(".display-name").text(a)})}});