define("bitbucket/internal/widget/aui/form",["jquery","exports"],function(e,c){function f(a){a.preventDefault()}function d(a,b){a.data("preventSubmission",b);a.find(":submit").toggleClass("disabled",b).prop("disabled",b);a.find('a, button, input[type\x3d"button"]')[b?"on":"off"]("click",f).toggleClass("disabled",b)}function g(a){var b=e(window),c=Object.prototype.hasOwnProperty.call(window,"onpagehide")?"pagehide":"unload";b.on(c,function h(){b.off(c,h);return a.apply(this,arguments)})}c.preventSubmission=
function(a){d(a,!0)};c.allowSubmission=function(a){d(a,!1)};c.isSubmissionPrevented=function(a){return a.data("preventSubmission")};c.onReady=function(){e(document).on("submit",".prevent-double-submit",function(a){var b=e(a.target);c.isSubmissionPrevented(b)?a.preventDefault():setTimeout(function(){a.isDefaultPrevented()||(d(b,!0),g(function(){d(b,!1)}))},0)})}});