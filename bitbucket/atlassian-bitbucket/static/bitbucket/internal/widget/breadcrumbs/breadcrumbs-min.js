define("bitbucket/internal/widget/breadcrumbs","jquery lodash bitbucket/util/navbuilder bitbucket/internal/model/page-state bitbucket/internal/util/dom-event bitbucket/internal/util/events".split(" "),function(d,h,k,l,m,n){function e(a){this.$container=d(a);var b=this;this.$container.on("click","a",function(a){m.openInSameTab(a)&&(n.trigger("bitbucket.internal.widget.breadcrumbs.urlChanged",b,d(this).attr("href")),a.preventDefault())})}function p(a,b){var c=[],d=h.map(b,function(b){c=c.slice(0);c.push(b);
return{text:b,url:f(c,a)}});d.unshift({text:l.getRepository().getName(),url:f([],a)});return d}var g=k.currentRepo().browse(),f=function(a,b){return b.isDefault()?g.path(a).build():g.path(a).at(b.getId()).build()};e.prototype.update=function(a,b,c){this.$container.empty().append(bitbucket.internal.widget.breadcrumbs.crumbs({pathComponents:p(a,b.getComponents()),trailingSlash:c}))};return e});