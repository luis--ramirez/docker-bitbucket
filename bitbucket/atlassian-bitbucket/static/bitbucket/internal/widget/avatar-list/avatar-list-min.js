define("bitbucket/internal/widget/avatar-list",["jquery","lodash","bitbucket/internal/widget/overflowing-list"],function(b,d,f){function a(g,e,c){a.init();c=b.extend({},a.defaults,c);this._$list=b(g);c.getItemHtml=c.getAvatarHtml;this._overflowingList=new f(this._$list,e,c);var d=this;e.on("change:approved",function(a){d._$list.find(".user-avatar[data-username\x3d'"+a.getUser().getName()+"']").toggleClass("badge-hidden",!a.getApproved())})}a.defaults={itemSelector:".participant-item",overflowMenuClass:"aui-style-default aui-dropdown2-tailed avatar-dropdown",
getAvatarHtml:function(a,b){return bitbucket.internal.widget.avatarList.participantAvatar({participant:a.toJSON(),extraClasses:"participant-item",withName:b})}};a.prototype.contains=function(a){return d.any(this._overflowingList._items,function(b){return b.getUser().getName()===a})};a.prototype.addAvatar=function(a){this._overflowingList.addItem(a)};a.init=function(){b(".avatar-tooltip \x3e .aui-avatar-inner \x3e img").tooltip({hoverable:!1,offset:5,gravity:function(){return b.fn.tipsy.autoNS.call(this)+
b.fn.tipsy.autoWE.call(this)},delayIn:0,live:!0});a.init=b.noop};return a});