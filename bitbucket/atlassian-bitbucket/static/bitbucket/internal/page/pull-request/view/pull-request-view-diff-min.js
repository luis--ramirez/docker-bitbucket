define("bitbucket/internal/page/pull-request/view/pull-request-view-diff",["jquery","bitbucket/util/state","bitbucket/internal/feature/pull-request/pull-request-diff","bitbucket/internal/model/page-state"],function(g,b,e,a){var f;return{load:function(c){var d=b.getCommit()||f;a.setCommit(d);c.innerHTML=bitbucket.internal.feature.pullRequest.diff({commit:d,repository:b.getRepository()});e.init(d,a.getPullRequest(),a.getPullRequestViewInternal().maxChanges,a.getPullRequestViewInternal().relevantContextLines,
a.getPullRequestViewInternal().seenCommitReview)},unload:function(c){f=b.getCommit();a.setCommit(null);return e.reset().done(function(){g(c).empty()})},keyboardShortcutContexts:["diff-tree","diff-view"]}});