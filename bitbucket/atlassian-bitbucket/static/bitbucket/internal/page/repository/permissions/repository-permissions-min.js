define("bitbucket/internal/page/repository/permissions","jquery bitbucket/util/navbuilder bitbucket/internal/feature/permission/permission-table bitbucket/internal/util/ajax bitbucket/internal/widget/submit-spinner exports".split(" "),function(d,e,g,h,k,b){b.onReady=function(b){function l(a){return h.rest({type:"PUT",url:e.rest().currentRepo().build(),data:{"public":a}})}var f=d("#public-access-allowed"),c,a;f.click(function(){var b=this.checked;c||(c=new k(d(this).next("label")));a&&a.abort();c.show();
a=l(b);a.fail(function(){f.prop("checked",!b)}).always(function(){c.hide();a=null})});g.initialise(e.currentRepo().permissions(),b,"REPO_ADMIN")}});