define("bitbucket/internal/page/maintenance/lock","aui jquery bitbucket/util/navbuilder bitbucket/internal/layout/maintenance bitbucket/internal/util/ajax bitbucket/internal/widget/submit-spinner exports".split(" "),function(b,c,d,k,l,m,a){a.onReady=function(a){var f=b.contextPath()+"/mvc/maintenance/lock",g={pollUrl:f,pollTickCallback:function(b,a,e,c){},cancelButtonId:"cancel",redirectUrl:a?d.admin().build():d.allProjects().build(),canceledHeader:b.I18n.getText("bitbucket.web.lock.canceled.title",
bitbucket.internal.util.productName()),cancelingDescription:b.I18n.getText("bitbucket.web.lock.canceling.description",bitbucket.internal.util.productName()),hasCancelDialog:!1};c("#cancel").on("click",function(b){var a=c(this),e=a.closest("form").find("input[name\x3dtoken]"),d=e.val(),h=new m(a,"after");h.show();l.rest({url:f+"?token\x3d"+encodeURIComponent(d),type:"DELETE",statusCode:{409:function(a,b,d,c){e.parent().replaceWith(bitbucket.internal.layout.maintenance.tokenInputField(c));return!1},
"*":function(){return!1}}}).always(function(){h.hide()}).done(function(){window.location=g.redirectUrl});b.preventDefault()});k.init(g)}});