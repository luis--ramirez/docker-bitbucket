(function(){if(!jQuery||!jQuery.jstree){var r=!1,t=!1,u=!1;(function(c){c.vakata={};c.vakata.css={get_css:function(a,c,b){a=a.toLowerCase();var e=b.cssRules||b.rules,d=0;do{if(e.length&&d>e.length+5)break;if(e[d].selectorText&&e[d].selectorText.toLowerCase()==a)return!0===c?(b.removeRule&&b.removeRule(d),b.deleteRule&&b.deleteRule(d),!0):e[d]}while(e[++d]);return!1},add_css:function(a,b){if(c.jstree.css.get_css(a,!1,b))return!1;b.insertRule?b.insertRule(a+" { }",0):b.addRule(a,null,0);return c.vakata.css.get_css(a)},
remove_css:function(a,b){return c.vakata.css.get_css(a,!0,b)},add_sheet:function(a){var b=!1,e=!0;if(a.str)return a.title&&(b=c("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?e=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?e?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.str):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.str:(b.appendChild(document.createTextNode(a.str)),
document.getElementsByTagName("head")[0].appendChild(b)),b.sheet||b.styleSheet;if(a.url)if(document.createStyleSheet)try{document.createStyleSheet(a.url)}catch(d){}else return b=document.createElement("link"),b.rel="stylesheet",b.type="text/css",b.media="all",b.href=a.url,document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet}};var a=[],b=-1,d={},e={};c.fn.jstree=function(f){var b="string"==typeof f,e=Array.prototype.slice.call(arguments,1),h=this;if(b){if("_"==f.substring(0,1))return h;
this.each(function(){var b=a[c.data(this,"jstree_instance_id")],b=b&&c.isFunction(b[f])?b[f].apply(b,e):b;if("undefined"!==typeof b&&(0===f.indexOf("is_")||!0!==b&&!1!==b))return h=b,!1})}else this.each(function(){var b=c.data(this,"jstree_instance_id"),g=[],h=f?c.extend({},!0,f):{},n=c(this),q=!1,v=[],g=g.concat(e);n.data("jstree")&&g.push(n.data("jstree"));h=g.length?c.extend.apply(null,[!0,h].concat(g)):h;"undefined"!==typeof b&&a[b]&&a[b].destroy();b=parseInt(a.push({}),10)-1;c.data(this,"jstree_instance_id",
b);h.plugins=c.isArray(h.plugins)?h.plugins:c.jstree.defaults.plugins.slice();h.plugins.unshift("core");h.plugins=h.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");q=c.extend(!0,{},c.jstree.defaults,h);q.plugins=h.plugins;c.each(d,function(a,f){-1===c.inArray(a,q.plugins)?(q[a]=null,delete q[a]):v.push(a)});q.plugins=v;a[b]=new c.jstree._instance(b,c(this).addClass("jstree jstree-"+b),q);c.each(a[b]._get_settings().plugins,function(c,
f){a[b].data[f]={}});c.each(a[b]._get_settings().plugins,function(c,f){d[f]&&d[f].__init.apply(a[b])});setTimeout(function(){a[b]&&a[b].init()},0)});return h};c.jstree={defaults:{plugins:[]},_focused:function(){return a[b]||null},_reference:function(f){if(a[f])return a[f];var b=c(f);b.length||"string"!==typeof f||(b=c("#"+f));return b.length?a[b.closest(".jstree").data("jstree_instance_id")]||null:null},_instance:function(a,b,e){this.data={core:{}};this.get_settings=function(){return c.extend(!0,
{},e)};this._get_settings=function(){return e};this.get_index=function(){return a};this.get_container=function(){return b};this.get_container_ul=function(){return b.children("ul:eq(0)")};this._set_settings=function(a){e=c.extend(!0,{},e,a)}},_fn:{},plugin:function(a,b){b=c.extend({},{__init:c.noop,__destroy:c.noop,_fn:{},defaults:!1},b);d[a]=b;c.jstree.defaults[a]=b.defaults;c.each(b._fn,function(b,e){e.plugin=a;e.old=c.jstree._fn[b];c.jstree._fn[b]=function(){var a,f=e,d=Array.prototype.slice.call(arguments);
a=new c.Event("before.jstree");var g=!1;if(!0!==this.data.core.locked||"unlock"===b||"is_locked"===b){do{if(f&&f.plugin&&-1!==c.inArray(f.plugin,this._get_settings().plugins))break;f=f.old}while(f);if(f){if(0===b.indexOf("_"))a=f.apply(this,d);else{a=this.get_container().triggerHandler(a,{func:b,inst:this,args:d,plugin:f.plugin});if(!1===a)return;"undefined"!==typeof a&&(d=a);a=f.apply(c.extend({},this,{__callback:function(a){this.get_container().triggerHandler(b+".jstree",{inst:this,args:d,rslt:a,
rlbk:g})},__rollback:function(){return g=this.get_rollback()},__call_old:function(a){return f.old.apply(this,a?Array.prototype.slice.call(arguments,1):d)}}),d)}return a}}};c.jstree._fn[b].old=e.old;c.jstree._fn[b].plugin=a})},rollback:function(f){f&&(c.isArray(f)||(f=[f]),c.each(f,function(c,f){a[f.i].set_rollback(f.h,f.d)}))}};c.jstree._fn=c.jstree._instance.prototype={};c(function(){var a=navigator.userAgent.toLowerCase(),b=(a.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],e=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree \x3e ul \x3e li { margin-left:0px; } .jstree-rtl \x3e ul \x3e li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a \x3e ins { height:16px; width:16px; } .jstree a \x3e .jstree-icon { margin-right:3px; } .jstree-rtl a \x3e .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open \x3e ul { display:block; } li.jstree-closed \x3e ul { display:none; } ";
if(/msie/.test(a)&&6==parseInt(b,10)){r=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}e+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(a)&&
7==parseInt(b,10)&&(t=!0,e+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");!/compatible/.test(a)&&/mozilla/.test(a)&&1.9>parseFloat(b,10)&&(u=!0,e+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ");c.vakata.css.add_sheet({str:e,title:"jstree"})});c.jstree.plugin("core",{__init:function(){this.data.core.locked=!1;this.data.core.to_open=
this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("\x3cul\x3e\x3cli class\x3d'jstree-last jstree-leaf'\x3e\x3cins\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'jstree-loading' href\x3d'#'\x3e\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this._get_string("loading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li \x3e ins","click.jstree",c.proxy(function(a){a=c(a.target);this.toggle_node(a)},this)).bind("mousedown.jstree",c.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(a){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=
window.getSelection();try{a.removeAllRanges(),a.collapse()}catch(c){}}});this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",c.proxy(function(a,b){var e=this._get_node(b.rslt.obj),d=this;-1===e&&(e=this.get_container_ul());e.length&&e.find("li").each(function(){var a=c(this);a.data("jstree")&&c.each(a.data("jstree"),function(b,f){d.data[b]&&c.isFunction(d["_"+b+"_notify"])&&d["_"+b+"_notify"].call(d,a,f)})})},this));this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",
c.proxy(function(a,b){var e=this._get_node(b.rslt.obj),d=this;-1===e&&(e=this.get_container_ul());e.length&&e.find("li.jstree-open:not(:has(ul))").each(function(){d.load_node(this,c.noop,c.noop)})},this));this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var f,e=this.get_index(),l=this._get_settings(),h=this;c.each(l.plugins,function(a,c){try{d[c].__destroy.apply(h)}catch(b){}});this.__callback();if(this.is_focused())for(f in a)if(a.hasOwnProperty(f)&&
f!=e){a[f].set_focus();break}e===b&&(b=-1);this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^\x3d'jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});c(document).unbind(".jstree-"+e).undelegate(".jstree-"+e);a[e]=null;delete a[e]},_core_notify:function(a,c){c.opened&&this.open_node(a,!1,!0)},lock:function(){this.data.core.locked=!0;this.get_container().children("ul").addClass("jstree-locked").css("opacity",
"0.7");this.__callback({})},unlock:function(){this.data.core.locked=!1;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var a=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){this.id&&a.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))});this.__callback(a.data.core.to_open)},save_loaded:function(){},reload_nodes:function(a){var b=this,e=!0,d=[],m=[];a||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=c.map(c.makeArray(this.data.core.to_open),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=c.map(c.makeArray(this.data.core.to_load),function(a){return"#"+
a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open)));this.data.core.to_load.length&&(c.each(this.data.core.to_load,function(a,b){if("#"==b)return!0;c(b).length?d.push(b):m.push(b)}),d.length&&(this.data.core.to_load=m,c.each(d,function(a,c){b._is_loaded(c)||(b.load_node(c,function(){b.reload_nodes(!0)},function(){b.reload_nodes(!0)}),
e=!1)})));this.data.core.to_open.length&&c.each(this.data.core.to_open,function(a,c){b.open_node(c,!1,!0)});e&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){b.__callback({},b)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var a=this;this.data.core.to_open.length&&c.each(this.data.core.to_open,function(c,b){a.open_node(b,!1,!0)});this.__callback({})},refresh:function(a){var c=this;this.save_opened();a||(a=-1);(a=this._get_node(a))||
(a=-1);-1!==a?a.children("UL").remove():this.get_container_ul().empty();this.load_node(a,function(){c.__callback({obj:a});c.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var a=c.jstree._focused();a&&a.unset_focus();this.get_container().addClass("jstree-focused");b=this.get_index();this.__callback()}},is_focused:function(){return b==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),b=
-1);this.__callback()},_get_node:function(a){var b=c(a,this.get_container());if(b.is(".jstree")||-1==a)return-1;b=b.closest("li",this.get_container());return b.length?b:!1},_get_next:function(a,c){a=this._get_node(a);return-1===a?this.get_container().find("\x3e ul \x3e li:first-child"):a.length?c?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0):!1},_get_prev:function(a,
c){a=this._get_node(a);if(-1===a)return this.get_container().find("\x3e ul \x3e li:last-child");if(!a.length)return!1;if(c)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("jstree-open");)a=a.children("ul:eq(0)").children("li:last");return a}var b=a.parentsUntil(".jstree","li:eq(0)");return b.length?b:!1},_get_parent:function(a){a=this._get_node(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".jstree","li:eq(0)");return a.length?
a:-1},_get_children:function(a){a=this._get_node(a);return-1===a?this.get_container().children("ul:eq(0)").children("li"):a.length?a.children("ul:eq(0)").children("li"):!1},get_path:function(a,c){var b=[],e=this;a=this._get_node(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".jstree","li").each(function(){b.push(c?this.id:e.get_text(this))});b.reverse();b.push(c?a.attr("id"):this.get_text(a));return b},_get_string:function(a){return this._get_settings().core.strings[a]||a},is_open:function(a){return(a=
this._get_node(a))&&-1!==a&&a.hasClass("jstree-open")},is_closed:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-closed")},is_leaf:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-leaf")},correct_state:function(a){a=this._get_node(a);if(!a||-1===a)return!1;a.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},open_node:function(a,c,b){a=this._get_node(a);if(!a.length)return!1;if(!a.hasClass("jstree-closed"))return c&&
c.call(),!1;var e=b||r?0:this._get_settings().core.animation,d=this;this._is_loaded(a)?(this._get_settings().core.open_parents&&a.parentsUntil(".jstree",".jstree-closed").each(function(){d.open_node(this,!1,!0)}),e&&a.children("ul").css("display","none"),a.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),e?a.children("ul").stop(!0,!0).slideDown(e,function(){this.style.display="";d.after_open(a)}):d.after_open(a),this.__callback({obj:a}),c&&c.call()):
(a.children("a").addClass("jstree-loading"),this.load_node(a,function(){d.open_node(a,c,b)},c))},after_open:function(a){this.__callback({obj:a})},close_node:function(a,c){a=this._get_node(a);var b=c||r?0:this._get_settings().core.animation,e=this;if(!a.length||!a.hasClass("jstree-open"))return!1;b&&a.children("ul").attr("style","display:block !important");a.removeClass("jstree-open").addClass("jstree-closed");b?a.children("ul").stop(!0,!0).slideUp(b,function(){this.style.display="";e.after_close(a)}):
e.after_close(a);this.__callback({obj:a})},after_close:function(a){this.__callback({obj:a})},toggle_node:function(a){a=this._get_node(a);if(a.hasClass("jstree-closed"))return this.open_node(a);if(a.hasClass("jstree-open"))return this.close_node(a)},open_all:function(a,c,b){(a=a?this._get_node(a):-1)&&-1!==a||(a=this.get_container_ul());b?a=a.find("li.jstree-closed"):(b=a,a=a.is(".jstree-closed")?a.find("li.jstree-closed").andSelf():a.find("li.jstree-closed"));var e=this;a.each(function(){var a=this;
e._is_loaded(this)?e.open_node(this,!1,!c):e.open_node(this,function(){e.open_all(a,c,b)},!c)});0===b.find("li.jstree-closed").length&&this.__callback({obj:b})},close_all:function(a,c){var b=this;(a=a?this._get_node(a):this.get_container())&&-1!==a||(a=this.get_container_ul());a.find("li.jstree-open").andSelf().each(function(){b.close_node(this,!c)});this.__callback({obj:a})},clean_node:function(a){a=a&&-1!=a?c(a):this.get_container_ul();a=a.is("li")?a.find("li").andSelf():a.find("li");a.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");
a.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(a,c){this.get_container().empty().append(a);this.data=c;this.__callback()},load_node:function(a,c,b){this.__callback({obj:a})},_is_loaded:function(a){return!0},create_node:function(a,b,e,d,m){a=this._get_node(a);b="undefined"===typeof b?
"last":b;var k=c("\x3cli /\x3e"),p=this._get_settings().core,n;if(-1!==a&&!a.length)return!1;if(!m&&!this._is_loaded(a))return this.load_node(a,function(){this.create_node(a,b,e,d,!0)}),!1;this.__rollback();"string"===typeof e&&(e={data:e});e||(e={});e.attr&&k.attr(e.attr);e.metadata&&k.data(e.metadata);e.state&&k.addClass("jstree-"+e.state);e.data||(e.data=this._get_string("new_node"));c.isArray(e.data)||(n=e.data,e.data=[],e.data.push(n));c.each(e.data,function(a,b){n=c("\x3ca /\x3e");c.isFunction(b)&&
(b=b.call(this,e));if("string"==typeof b)n.attr("href","#")[p.html_titles?"html":"text"](b);else b.attr||(b.attr={}),b.attr.href||(b.attr.href="#"),n.attr(b.attr)[p.html_titles?"html":"text"](b.title),b.language&&n.addClass(b.language);n.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");!b.icon&&e.icon&&(b.icon=e.icon);b.icon&&(-1===b.icon.indexOf("/")?n.children("ins").addClass(b.icon):n.children("ins").css("background","url('"+b.icon+"') center center no-repeat"));k.append(n)});
k.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");-1===a&&(a=this.get_container(),"before"===b&&(b="first"),"after"===b&&(b="last"));switch(b){case "before":a.before(k);n=this._get_parent(a);break;case "after":a.after(k);n=this._get_parent(a);break;case "inside":case "first":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").prepend(k);n=a;break;case "last":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").append(k);n=a;break;default:a.children("ul").length||
a.append("\x3cul /\x3e"),b||(b=0),n=a.children("ul").children("li").eq(b),n.length?n.before(k):a.children("ul").append(k),n=a}if(-1===n||n.get(0)===this.get_container().get(0))n=-1;this.clean_node(n);this.__callback({obj:k,parent:n});d&&d.call(this,k);return k},get_text:function(a){a=this._get_node(a);if(!a.length)return!1;var b=this._get_settings().core.html_titles;a=a.children("a:eq(0)");if(b)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==this.nodeType})[0];
return a.nodeValue},set_text:function(a,b){a=this._get_node(a);if(!a.length)return!1;a=a.children("a:eq(0)");if(this._get_settings().core.html_titles){var c=a.children("INS").clone();a.html(b).prepend(c);this.__callback({obj:a,name:b});return!0}a=a.contents().filter(function(){return 3==this.nodeType})[0];this.__callback({obj:a,name:b});return a.nodeValue=b},rename_node:function(a,b){a=this._get_node(a);this.__rollback();a&&a.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&
this.__callback({obj:a,name:b})},delete_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.__rollback();var b=this._get_parent(a),e=c([]),d=this;a.each(function(){e=e.add(d._get_prev(this))});a=a.detach();-1!==b&&0===b.find("\x3e ul \x3e li").length&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(b);this.__callback({obj:a,prev:e,parent:b});return a},prepare_move:function(a,b,d,h,m){var k={};k.ot=c.jstree._reference(a)||this;k.o=k.ot._get_node(a);k.r=
-1===b?-1:this._get_node(b);k.p="undefined"===typeof d||!1===d?"last":d;if(m||!e.o||e.o[0]!==k.o[0]||e.r[0]!==k.r[0]||e.p!==k.p){k.ot=c.jstree._reference(k.o)||this;k.rt=c.jstree._reference(k.r)||this;if(-1!==k.r&&k.r){if(!/^(before|after)$/.test(k.p)&&!this._is_loaded(k.r))return this.load_node(k.r,function(){this.prepare_move(a,b,d,h,!0)});switch(k.p){case "before":k.cp=k.r.index();k.cr=k.rt._get_parent(k.r);break;case "after":k.cp=k.r.index()+1;k.cr=k.rt._get_parent(k.r);break;case "inside":case "first":k.cp=
0;k.cr=k.r;break;case "last":k.cp=k.r.find(" \x3e ul \x3e li").length;k.cr=k.r;break;default:k.cp=k.p,k.cr=k.r}}else switch(k.cr=-1,k.p){case "first":case "before":case "inside":k.cp=0;break;case "after":case "last":k.cp=k.rt.get_container().find(" \x3e ul \x3e li").length;break;default:k.cp=k.p}k.np=-1==k.cr?k.rt.get_container():k.cr;k.op=k.ot._get_parent(k.o);k.cop=k.o.index();-1===k.op&&(k.op=k.ot?k.ot.get_container():this.get_container());!/^(before|after)$/.test(k.p)&&k.op&&k.np&&k.op[0]===k.np[0]&&
k.o.index()<k.cp&&k.cp++;k.or=k.np.find(" \x3e ul \x3e li:nth-child("+(k.cp+1)+")");e=k}this.__callback(e);h&&h.call(this,e)},check_move:function(){var a=e,b=!0,c=-1===a.r?this.get_container():a.r;if(!a||!a.o||a.or[0]===a.o[0]||a.op&&a.np&&a.op[0]===a.np[0]&&a.cp-1===a.o.index())return!1;a.o.each(function(){if(-1!==c.parentsUntil(".jstree","li").andSelf().index(this))return b=!1});return b},move_node:function(a,b,d,h,m,k){if(!m)return this.prepare_move(a,b,d,function(a){this.move_node(a,!1,!1,h,!0,
k)});h&&(e.cy=!0);if(!k&&!this.check_move())return!1;this.__rollback();b=!1;h?(b=a.o.clone(!0),b.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)})):b=a.o;a.or.length?a.or.before(b):(a.np.children("ul").length||c("\x3cul /\x3e").appendTo(a.np),a.np.children("ul:eq(0)").append(b));try{a.ot.clean_node(a.op),a.rt.clean_node(a.np),a.op.find("\x3e ul \x3e li").length||a.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(p){}h&&(e.cy=
!0,e.oc=b);this.__callback(e);return e},_get_move:function(){return e}}})})(jQuery);(function(c){var a,b,d;c(function(){/msie/.test(navigator.userAgent.toLowerCase())?(b=c('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),d=c('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),a=b.width()-d.width(),b.add(d).remove()):(b=c("\x3cdiv /\x3e").css({width:100,
height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),a=100-b.width(),b.parent().remove())});c.jstree.plugin("ui",{__init:function(){this.data.ui.selected=c();this.data.ui.last_selected=!1;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",c.proxy(function(a){a.preventDefault();a.currentTarget.blur();c(a.currentTarget).hasClass("jstree-loading")||
this.select_node(a.currentTarget,!0,a)},this)).delegate("a","mouseenter.jstree",c.proxy(function(a){c(a.currentTarget).hasClass("jstree-loading")||this.hover_node(a.target)},this)).delegate("a","mouseleave.jstree",c.proxy(function(a){c(a.currentTarget).hasClass("jstree-loading")||this.dehover_node(a.target)},this)).bind("reopen.jstree",c.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",c.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",
c.proxy(function(){this.reselect()},this)).bind("close_node.jstree",c.proxy(function(a,b){var d=this._get_settings().ui,l=this._get_node(b.rslt.obj),h=l&&l.length?l.children("ul").find("a.jstree-clicked"):c(),m=this;!1!==d.selected_parent_close&&h.length&&h.each(function(){m.deselect_node(this);"select_parent"===d.selected_parent_close&&m.select_node(l)})},this)).bind("delete_node.jstree",c.proxy(function(a,b){var c=this._get_settings().ui.select_prev_on_delete,d=this._get_node(b.rslt.obj),d=d&&d.length?
d.find("a.jstree-clicked"):[],h=this;d.each(function(){h.deselect_node(this)});c&&d.length&&b.rslt.prev.each(function(){if(this.parentNode)return h.select_node(this),!1})},this)).bind("move_node.jstree",c.proxy(function(a,b){b.rslt.cy&&b.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,
initially_select:[]},_fn:{_get_node:function(a,b){if("undefined"===typeof a||null===a)return b?this.data.ui.selected:this.data.ui.last_selected;var d=c(a,this.get_container());if(d.is(".jstree")||-1==a)return-1;d=d.closest("li",this.get_container());return d.length?d:!1},_ui_notify:function(a,b){b.selected&&this.select_node(a,!1)},save_selected:function(){var a=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){this.id&&a.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,
"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(this.data.ui.to_select)},reselect:function(){var a=this,b=this.data.ui.to_select,b=c.map(c.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});c.each(b,function(b,c){c&&"#"!==c&&a.select_node(c)});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});
this.__callback()},refresh:function(a){this.save_selected();return this.__call_old()},hover_node:function(a){a=this._get_node(a);if(!a.length)return!1;a.hasClass("jstree-hovered")||this.dehover_node();this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent();this._fix_scroll(a);this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered,b;if(!a||!a.length)return!1;b=a.children("a").removeClass("jstree-hovered").parent();this.data.ui.hovered[0]===b[0]&&(this.data.ui.hovered=
null);this.__callback({obj:a})},select_node:function(a,b,c){a=this._get_node(a);if(-1==a||!a||!a.length)return!1;var d=this._get_settings().ui,h="on"==d.select_multiple_modifier||!1!==d.select_multiple_modifier&&c&&c[d.select_multiple_modifier+"Key"],m=!1!==d.select_range_modifier&&c&&c[d.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==a[0]&&this.data.ui.last_selected.parent()[0]===a.parent()[0],k=this.is_selected(a),p=!0,n=this;if(b){if(d.disable_selecting_children&&
h&&(a.parentsUntil(".jstree","li").children("a.jstree-clicked").length||a.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;p=!1;switch(!0){case m:this.data.ui.last_selected.addClass("jstree-last-selected");a=a[a.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();-1==d.select_limit||a.length<d.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==n.data.ui.last_selected[0]&&
n.deselect_node(this)}),k=!1,p=!0):p=!1;break;case k&&!h:this.deselect_all();k=!1;p=!0;break;case !k&&!h:if(-1==d.select_limit||0<d.select_limit)this.deselect_all(),p=!0;break;case k&&h:this.deselect_node(a);break;case !k&&h:if(-1==d.select_limit||this.data.ui.selected.length+1<=d.select_limit)p=!0}}p&&!k&&(m||(this.data.ui.last_selected=a),a.children("a").addClass("jstree-clicked"),d.selected_parent_open&&a.parents(".jstree-closed").each(function(){n.open_node(this,!1,!0)}),this.data.ui.selected=
this.data.ui.selected.add(a),this._fix_scroll(a.eq(0)),this.__callback({obj:a,e:c}))},_fix_scroll:function(b){var c=this.get_container()[0];c.scrollHeight>c.offsetHeight&&(b=this._get_node(b))&&-1!==b&&b.length&&b.is(":visible")&&(b=b.offset().top-this.get_container().offset().top,0>b&&(c.scrollTop=c.scrollTop+b-1),b+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?a:0)>c.offsetHeight&&(c.scrollTop+=b-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?a:0)))},deselect_node:function(a){a=
this._get_node(a);if(!a.length)return!1;this.is_selected(a)&&(a.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(a),this.data.ui.last_selected.get(0)===a.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:a}))},toggle_select:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)?this.deselect_node(a):this.select_node(a)},is_selected:function(a){return 0<=this.data.ui.selected.index(this._get_node(a))},
get_selected:function(a){return a?c(a).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(a){a=a?c(a).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();a.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=c([]);this.data.ui.last_selected=!1;this.__callback({obj:a})}}});c.jstree.defaults.plugins.push("ui")})(jQuery);(function(c){c.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",
c.proxy(function(a,b){if(this._get_settings().crrm.move.open_onmove){var c=this;b.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){c.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(a){return!0}}},_fn:{_show_input:function(a,b){a=this._get_node(a);var d=this._get_settings().core.rtl,e=this._get_settings().crrm.input_width_limit,f=a.children("ins").width(),g=a.find("\x3e a:visible \x3e ins").width()*
a.find("\x3e a:visible \x3e ins").length,l=this.get_text(a),h=c("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:d?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=a.css("position","relative").append(c("\x3cinput /\x3e",{value:l,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:d?"auto":f+g+4+"px",right:d?f+g+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:c.proxy(function(){var c=
a.children(".jstree-rename-input"),d=c.val();""===d&&(d=l);h.remove();c.remove();this.set_text(a,l);this.rename_node(a,d);b.call(this,a,d,l);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;27==a?(this.value=l,this.blur()):13==a?this.blur():m.width(Math.min(h.text("pW"+this.value).width(),e))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".jstree-rename-input");this.set_text(a,"");h.css({fontFamily:m.css("fontFamily")||"",fontSize:m.css("fontSize")||"",
fontWeight:m.css("fontWeight")||"",fontStyle:m.css("fontStyle")||"",fontStretch:m.css("fontStretch")||"",fontVariant:m.css("fontVariant")||"",letterSpacing:m.css("letterSpacing")||"",wordSpacing:m.css("wordSpacing")||""});m.width(Math.min(h.text("pW"+m[0].value).width(),e))[0].select()},rename:function(a){a=this._get_node(a);this.__rollback();var b=this.__callback;this._show_input(a,function(a,c,f){b.call(this,{obj:a,new_name:c,old_name:f})})},create:function(a,b,d,e,f){var g=this;(a=this._get_node(a))||
(a=-1);this.__rollback();return this.create_node(a,b,d,function(a){var b=this._get_parent(a),d=c(a).index();e&&e.call(this,a);b.length&&b.hasClass("jstree-closed")&&this.open_node(b,!1,!0);f?g.__callback({obj:a,name:this.get_text(a),parent:b,position:d}):this._show_input(a,function(a,c,e){g.__callback({obj:a,name:c,parent:b,position:d})})})},remove:function(a){a=this._get_node(a,!0);var b=this._get_parent(a),c=this._get_prev(a);this.__rollback();a=this.delete_node(a);!1!==a&&this.__callback({obj:a,
prev:c,parent:b})},check_move:function(){return this.__call_old()&&this._get_settings().crrm.move.check_move.call(this,this._get_move())?!0:!1},move_node:function(a,b,c,e,f,g){var l=this._get_settings().crrm.move;if(!f)return"undefined"===typeof c&&(c=l.default_position),"inside"!==c||l.default_position.match(/^(before|after)$/)||(c=l.default_position),this.__call_old(!0,a,b,c,e,!1,g);if(!0===l.always_copy||"multitree"===l.always_copy&&a.rt.get_index()!==a.ot.get_index())e=!0;this.__call_old(!0,a,
b,c,e,!0,g)},cut:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=a;this.__callback({obj:a})},copy:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.ct_nodes=!1;this.data.crrm.cp_nodes=a;this.__callback({obj:a})},paste:function(a){a=this._get_node(a);if(!a||!a.length)return!1;var b=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;
this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,a),this.data.crrm.ct_nodes=!1);this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,a,!1,!0);this.__callback({obj:a,nodes:b})}}})})(jQuery);(function(c){var a=[];c.jstree._themes=!1;c.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",c.proxy(function(){var a=this._get_settings().themes;this.data.themes.dots=a.dots;this.data.themes.icons=a.icons;this.set_theme(a.theme,a.url)},this)).bind("loaded.jstree",
c.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(b,d){if(!b)return!1;d||(d=c.jstree._themes+b+"/style.css");-1==c.inArray(d,a)&&(c.vakata.css.add_sheet({url:d}),a.push(d));this.data.themes.theme!=b&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=b);this.get_container().addClass("jstree-"+
b);this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=
!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}});c(function(){!1===c.jstree._themes&&c("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return c.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",
!1});!1===c.jstree._themes&&(c.jstree._themes="themes/")});c.jstree.defaults.plugins.push("themes")})(jQuery);(function(c){var a=[];c.jstree.plugin("hotkeys",{__init:function(){if("undefined"===typeof c.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";c.each(this._get_settings().hotkeys,function(b,d){!1!==d&&-1==c.inArray(b,a)&&(c(document).bind("keydown",b,function(a){a:{var d=c.jstree._focused(),g;if(d&&d.data&&
d.data.hotkeys&&d.data.hotkeys.enabled&&(g=d._get_settings().hotkeys[b])){a=g.call(d,a);break a}a=void 0}return a}),a.push(b))});this.get_container().bind("lock.jstree",c.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",c.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this));this.enable_hotkeys()},defaults:{up:function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||
-1));return!1},"ctrl+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},down:function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"ctrl+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||
this.data.ui.last_selected||-1));return!1},left:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"ctrl+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"shift+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):
this.hover_node(this._get_prev(a)));return!1},right:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"ctrl+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"shift+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&
(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},space:function(){this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click();return!1},"ctrl+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);return!1},"shift+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);return!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},
del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})})(jQuery);(function(c){c.jstree.plugin("json_data",{__init:function(){this._get_settings().json_data.progressive_unload&&this.get_container().bind("after_close.jstree",function(a,c){c.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},
_fn:{load_node:function(a,c,d){var e=this;this.load_node_json(a,function(){e.__callback({obj:e._get_node(a)});c.call(this)},d)},_is_loaded:function(a){var b=this._get_settings().json_data;a=this._get_node(a);return-1==a||!a||!b.ajax&&!b.progressive_render&&!c.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").length},refresh:function(a){a=this._get_node(a);var b=this._get_settings().json_data;a&&-1!==a&&b.progressive_unload&&(c.isFunction(b.data)||b.ajax)&&a.removeData("jstree_children");
return this.__call_old()},load_node_json:function(a,b,d){var e=this.get_settings().json_data,f,g=function(){};f=function(){};if((a=this._get_node(a))&&-1!==a&&(e.progressive_render||e.progressive_unload)&&!a.is(".jstree-open, .jstree-leaf")&&0===a.children("ul").children("li").length&&a.data("jstree_children")){if(f=this._parse_json(a.data("jstree_children"),a))a.append(f),e.progressive_unload||a.removeData("jstree_children");this.clean_node(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("jstree_is_loading"))return;
a.data("jstree_is_loading",!0)}switch(!0){case !e.data&&!e.ajax:throw"Neither data nor ajax settings supplied.";case c.isFunction(e.data):e.data.call(this,a,c.proxy(function(c){(c=this._parse_json(c,a))?(-1!==a&&a?(a.append(c).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(c.children()),this.clean_node(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),
e.correct_state&&this.correct_state(a)):e.correct_state&&this.get_container().children("ul").empty(),d&&d.call(this))},this));break;case !!e.data&&!e.ajax||!!e.data&&!!e.ajax&&(!a||-1===a):a&&-1!=a||((f=this._parse_json(e.data,a))?(this.get_container().children("ul").empty().append(f.children()),this.clean_node()):e.correct_state&&this.get_container().children("ul").empty());b&&b.call(this);break;case !e.data&&!!e.ajax||!!e.data&&!!e.ajax&&a&&-1!==a:g=function(c,b,f){var k=this.get_settings().json_data.ajax.error;
k&&k.call(this,c,b,f);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===b&&e.correct_state&&this.correct_state(a)):"success"===b&&e.correct_state&&this.get_container().children("ul").empty();d&&d.call(this)},f=function(d,f,m){var k=this.get_settings().json_data.ajax.success;k&&(d=k.call(this,d,f,m)||d);if(""===d||d&&d.toString&&""===d.toString().replace(/^[\s\n]+$/,"")||!c.isArray(d)&&!c.isPlainObject(d))return g.call(this,
m,f,"");(d=this._parse_json(d,a))?(-1!==a&&a?(a.append(d).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(d.children()),this.clean_node(a),b&&b.call(this)):-1!==a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),e.correct_state&&(this.correct_state(a),b&&b.call(this))):e.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},e.ajax.context=
this,e.ajax.error=g,e.ajax.success=f,e.ajax.dataType||(e.ajax.dataType="json"),c.isFunction(e.ajax.url)&&(e.ajax.url=e.ajax.url.call(this,a)),c.isFunction(e.ajax.data)&&(e.ajax.data=e.ajax.data.call(this,a)),c.ajax(e.ajax)}}},_parse_json:function(a,b,d){var e=!1,f=this._get_settings(),g=f.json_data,l=f.core.html_titles,h;if(!a)return e;g.progressive_unload&&b&&-1!==b&&b.data("jstree_children",e);if(c.isArray(a)){e=c();if(!a.length)return!1;f=0;for(g=a.length;f<g;f++)h=this._parse_json(a[f],b,!0),
h.length&&(e=e.add(h))}else{"string"==typeof a&&(a={data:a});if(!a.data&&""!==a.data)return e;e=c("\x3cli /\x3e");a.attr&&e.attr(a.attr);a.metadata&&e.data(a.metadata);a.state&&e.addClass("jstree-"+a.state);c.isArray(a.data)||(h=a.data,a.data=[],a.data.push(h));c.each(a.data,function(b,d){h=c("\x3ca /\x3e");c.isFunction(d)&&(d=d.call(this,a));if("string"==typeof d)h.attr("href","#")[l?"html":"text"](d);else d.attr||(d.attr={}),d.attr.href||(d.attr.href="#"),h.attr(d.attr)[l?"html":"text"](d.title),
d.language&&h.addClass(d.language);h.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");!d.icon&&a.icon&&(d.icon=a.icon);d.icon&&(-1===d.icon.indexOf("/")?h.children("ins").addClass(d.icon):h.children("ins").css("background","url('"+d.icon+"') center center no-repeat"));e.append(h)});e.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");a.children&&(g.progressive_render&&"open"!==a.state?e.addClass("jstree-closed").data("jstree_children",a.children):(g.progressive_unload&&
e.data("jstree_children",a.children),c.isArray(a.children)&&a.children.length&&(h=this._parse_json(a.children,b,!0),h.length&&(b=c("\x3cul /\x3e"),b.append(h),e.append(b)))))}d||(d=c("\x3cul /\x3e"),d.append(e),e=d);return e},get_json:function(a,b,d,e){var f=[],g=this._get_settings(),l=this,h,m,k,p,n,q;(a=this._get_node(a))&&-1!==a||(a=this.get_container().find("\x3e ul \x3e li"));b=c.isArray(b)?b:["id","class"];!e&&this.data.types&&b.push(g.types.type_attr);d=c.isArray(d)?d:[];a.each(function(){k=
c(this);h={data:[]};b.length&&(h.attr={});c.each(b,function(a,c){(m=k.attr(c))&&m.length&&m.replace(/jstree[^ ]*/ig,"").length&&(h.attr[c]=(" "+m).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))});k.hasClass("jstree-open")&&(h.state="open");k.hasClass("jstree-closed")&&(h.state="closed");k.data()&&(h.metadata=k.data());p=k.children("a");p.each(function(){n=c(this);d.length||-1!==c.inArray("languages",g.plugins)||n.children("ins").get(0).style.backgroundImage.length||
n.children("ins").get(0).className&&n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length?(q=!1,-1!==c.inArray("languages",g.plugins)&&c.isArray(g.languages)&&g.languages.length&&c.each(g.languages,function(a,c){if(n.hasClass(c))return q=c,!1}),m={attr:{},title:l.get_text(n,q)},c.each(d,function(a,c){m.attr[c]=(" "+(n.attr(c)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}),-1!==c.inArray("languages",g.plugins)&&c.isArray(g.languages)&&
g.languages.length&&c.each(g.languages,function(a,c){if(n.hasClass(c))return m.language=c,!0}),n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(m.icon=n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")),n.children("ins").get(0).style.backgroundImage.length&&(m.icon=n.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):m=l.get_text(n);1<p.length?h.data.push(m):
h.data=m});k=k.find("\x3e ul \x3e li");k.length&&(h.children=l.get_json(k,b,d,!0));f.push(h)});return f}}})})(jQuery);(function(c){c.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(a){var b=this._get_settings().languages,d=!1,e=".jstree-"+this.get_index()+" a";if(!c.isArray(b)||0===b.length)return!1;if(-1==c.inArray(a,b))if(b[a])a=b[a];else return!1;if(a==this.data.languages.current_language)return!0;d=c.vakata.css.get_css(e+"."+this.data.languages.current_language,
!1,this.data.languages.language_css);!1!==d&&(d.style.display="none");d=c.vakata.css.get_css(e+"."+a,!1,this.data.languages.language_css);!1!==d&&(d.style.display="");this.data.languages.current_language=a;this.__callback(a);return!0},get_lang:function(){return this.data.languages.current_language},_get_string:function(a,b){var d=this._get_settings().languages,e=this._get_settings().core.strings;c.isArray(d)&&d.length&&(b=b&&-1!=c.inArray(b,d)?b:this.data.languages.current_language);return e[b]&&
e[b][a]?e[b][a]:e[a]?e[a]:a},get_text:function(a,b){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var d=this._get_settings().languages,e=this._get_settings().core.html_titles;c.isArray(d)&&d.length?(b=b&&-1!=c.inArray(b,d)?b:this.data.languages.current_language,a=a.children("a."+b)):a=a.children("a:eq(0)");if(e)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==this.nodeType})[0];return a.nodeValue},set_text:function(a,b,d){a=
this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var e=this._get_settings().languages,f=this._get_settings().core.html_titles;c.isArray(e)&&e.length?(d=d&&-1!=c.inArray(d,e)?d:this.data.languages.current_language,a=a.children("a."+d)):a=a.children("a:eq(0)");if(f)return e=a.children("INS").clone(),a.html(b).prepend(e),this.__callback({obj:a,name:b,lang:d}),!0;a=a.contents().filter(function(){return 3==this.nodeType})[0];this.__callback({obj:a,name:b,lang:d});return a.nodeValue=
b},_load_css:function(){var a=this._get_settings().languages,b="/* languages css */",d=".jstree-"+this.get_index()+" a",e;if(c.isArray(a)&&a.length){this.data.languages.current_language=a[0];for(e=0;e<a.length;e++)b+=d+"."+a[e]+" {",a[e]!=this.data.languages.current_language&&(b+=" display:none; "),b+=" } ";this.data.languages.language_css=c.vakata.css.add_sheet({str:b,title:"jstree-languages"})}},create_node:function(a,b,d,e){return this.__call_old(!0,a,b,d,function(a){var b=this._get_settings().languages,
d=a.children("a"),h;if(c.isArray(b)&&b.length){for(h=0;h<b.length;h++)d.is("."+b[h])||a.append(d.eq(0).clone().removeClass(b.join(" ")).addClass(b[h]));d.not("."+b.join(", .")).remove()}e&&e.call(this,a)})}}})})(jQuery);(function(c){c.jstree.plugin("cookies",{__init:function(){if("undefined"===typeof c.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var a=this._get_settings().cookies,b;a.save_loaded&&(b=c.cookie(a.save_loaded))&&b.length&&(this.data.core.to_load=b.split(","));a.save_opened&&
(b=c.cookie(a.save_opened))&&b.length&&(this.data.core.to_open=b.split(","));a.save_selected&&(b=c.cookie(a.save_selected))&&b.length&&this.data.ui&&(this.data.ui.to_select=b.split(","));this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",c.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",c.proxy(function(a){this._get_settings().cookies.auto_save&&this.save_cookie((a.handleObj.namespace+a.handleObj.type).replace("jstree",
""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(a){if(!this.data.core.refreshing){var b=this._get_settings().cookies;if(a)switch(a){case "open_node":case "close_node":b.save_opened&&(this.save_opened(),c.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options));b.save_loaded&&(this.save_loaded(),c.cookie(b.save_loaded,this.data.core.to_load.join(","),b.cookie_options));
break;case "select_node":case "deselect_node":b.save_selected&&this.data.ui&&(this.save_selected(),c.cookie(b.save_selected,this.data.ui.to_select.join(","),b.cookie_options))}else b.save_loaded&&(this.save_loaded(),c.cookie(b.save_loaded,this.data.core.to_load.join(","),b.cookie_options)),b.save_opened&&(this.save_opened(),c.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options)),b.save_selected&&this.data.ui&&(this.save_selected(),c.cookie(b.save_selected,this.data.ui.to_select.join(","),
b.cookie_options))}}}})})(jQuery);(function(c){c.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",c.proxy(function(a,c){var d=this._get_node(c.rslt.obj),d=-1===d?this.get_container().children("ul"):d.children("ul");this.sort(d)},this)).bind("rename_node.jstree create_node.jstree create.jstree",c.proxy(function(a,c){this.sort(c.rslt.obj.parent())},this)).bind("move_node.jstree",c.proxy(function(a,c){var d=-1==c.rslt.np?this.get_container():c.rslt.np;this.sort(d.children("ul"))},
this))},defaults:function(a,c){return this.get_text(a)>this.get_text(c)?1:-1},_fn:{sort:function(a){var b=this._get_settings().sort,d=this;a.append(c.makeArray(a.children("li")).sort(c.proxy(b,d)));a.find("\x3e li \x3e ul").each(function(){d.sort(c(this))});this.clean_node(a)}}})})(jQuery);(function(c){var a=!1,b=!1,d=!1,e=!1,f=!1,g=!1,l=!1,h=!1,m=!1;c.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(a,
b,d){c.vakata.dnd.is_drag&&c.vakata.drag_stop({});try{a.currentTarget.unselectable="on",a.currentTarget.onselectstart=function(){return!1},a.currentTarget.style&&(a.currentTarget.style.MozUserSelect="none")}catch(e){}c.vakata.dnd.init_x=a.pageX;c.vakata.dnd.init_y=a.pageY;c.vakata.dnd.user_data=b;c.vakata.dnd.is_down=!0;c.vakata.dnd.helper=c("\x3cdiv id\x3d'vakata-dragged' /\x3e").html(d);c(document).bind("mousemove",c.vakata.dnd.drag);c(document).bind("mouseup",c.vakata.dnd.drag_stop);return!1},
drag:function(a){if(c.vakata.dnd.is_down){if(!c.vakata.dnd.is_drag)if(5<Math.abs(a.pageX-c.vakata.dnd.init_x)||5<Math.abs(a.pageY-c.vakata.dnd.init_y))c.vakata.dnd.helper.appendTo("body"),c.vakata.dnd.is_drag=!0,c(document).triggerHandler("drag_start.vakata",{event:a,data:c.vakata.dnd.user_data});else return;if("mousemove"===a.type){var b=c(document),d=b.scrollTop(),b=b.scrollLeft();20>a.pageY-d?(g&&"down"===l&&(clearInterval(g),g=!1),g||(l="up",g=setInterval(function(){c(document).scrollTop(c(document).scrollTop()-
c.vakata.dnd.scroll_spd)},150))):g&&"up"===l&&(clearInterval(g),g=!1);20>c(window).height()-(a.pageY-d)?(g&&"up"===l&&(clearInterval(g),g=!1),g||(l="down",g=setInterval(function(){c(document).scrollTop(c(document).scrollTop()+c.vakata.dnd.scroll_spd)},150))):g&&"down"===l&&(clearInterval(g),g=!1);20>a.pageX-b?(f&&"right"===h&&(clearInterval(f),f=!1),f||(h="left",f=setInterval(function(){c(document).scrollLeft(c(document).scrollLeft()-c.vakata.dnd.scroll_spd)},150))):f&&"left"===h&&(clearInterval(f),
f=!1);20>c(window).width()-(a.pageX-b)?(f&&"left"===h&&(clearInterval(f),f=!1),f||(h="right",f=setInterval(function(){c(document).scrollLeft(c(document).scrollLeft()+c.vakata.dnd.scroll_spd)},150))):f&&"right"===h&&(clearInterval(f),f=!1)}c.vakata.dnd.helper.css({left:a.pageX+c.vakata.dnd.helper_left+"px",top:a.pageY+c.vakata.dnd.helper_top+"px"});c(document).triggerHandler("drag.vakata",{event:a,data:c.vakata.dnd.user_data})}},drag_stop:function(a){f&&clearInterval(f);g&&clearInterval(g);c(document).unbind("mousemove",
c.vakata.dnd.drag);c(document).unbind("mouseup",c.vakata.dnd.drag_stop);c(document).triggerHandler("drag_stop.vakata",{event:a,data:c.vakata.dnd.user_data});c.vakata.dnd.helper.remove();c.vakata.dnd.init_x=0;c.vakata.dnd.init_y=0;c.vakata.dnd.user_data={};c.vakata.dnd.is_down=!1;c.vakata.dnd.is_drag=!1}};c(function(){c.vakata.css.add_sheet({str:"#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ",title:"vakata"})});
c.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1};this.get_container().bind("mouseenter.jstree",c.proxy(function(b){c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&(this.data.themes&&(d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),c.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),b.currentTarget===
b.target&&c.vakata.dnd.user_data.obj&&c(c.vakata.dnd.user_data.obj).length&&c(c.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==b.target&&(b=c.jstree._reference(b.target),b.data.dnd.foreign?(b=b._get_settings().dnd.drag_check.call(this,{o:a,r:b.get_container(),is_root:!0}),!0!==b&&!0!==b.inside&&!0!==b.before&&!0!==b.after||c.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(b.prepare_move(a,b.get_container(),"last"),b.check_move()&&c.vakata.dnd.helper.children("ins").attr("class",
"jstree-ok"))))},this)).bind("mouseup.jstree",c.proxy(function(b){if(c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&b.currentTarget===b.target&&c.vakata.dnd.user_data.obj&&c(c.vakata.dnd.user_data.obj).length&&c(c.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==b.target){var d=c.jstree._reference(b.currentTarget);d.data.dnd.foreign?(b=d._get_settings().dnd.drag_check.call(this,{o:a,r:d.get_container(),is_root:!0}),!0!==b&&!0!==b.inside&&!0!==b.before&&!0!==b.after||d._get_settings().dnd.drag_finish.call(this,
{o:a,r:d.get_container(),is_root:!0})):d.move_node(a,d.get_container(),"last",b[d._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",c.proxy(function(a){if(a.relatedTarget&&a.relatedTarget.id&&"jstree-marker-line"===a.relatedTarget.id)return!1;c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),
c.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&c.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"))},this)).bind("mousemove.jstree",c.proxy(function(a){if(c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree){var b=this.get_container()[0];a.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(c.proxy(function(){this.scrollLeft+=c.vakata.dnd.scroll_spd},b),100)):a.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&
clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(c.proxy(function(){this.scrollLeft-=c.vakata.dnd.scroll_spd},b),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1);a.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(c.proxy(function(){this.scrollTop+=c.vakata.dnd.scroll_spd},b),100)):a.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(c.proxy(function(){this.scrollTop-=
c.vakata.dnd.scroll_spd},b),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",c.proxy(function(a){c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&d&&e&&(d.hide(),e.hide())},this)).delegate("a","mousedown.jstree",c.proxy(function(a){if(1===a.which)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",c.proxy(function(a){c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&this.dnd_enter(a.currentTarget)},this)).delegate("a","mousemove.jstree",
c.proxy(function(a){c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&(b&&b.length&&b.children("a")[0]===a.currentTarget||this.dnd_enter(a.currentTarget),"undefined"===typeof this.data.dnd.off.top&&(this.data.dnd.off=c(a.target).offset()),this.data.dnd.w=(a.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,0>this.data.dnd.w&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",c.proxy(function(a){if(c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree){if(a.relatedTarget&&
a.relatedTarget.id&&"jstree-marker-line"===a.relatedTarget.id)return!1;d&&d.hide();e&&e.hide();this.data.dnd.mto=setTimeout(function(c){return function(){c.dnd_leave(a)}}(this),0)}},this)).delegate("a","mouseup.jstree",c.proxy(function(a){c.vakata.dnd.is_drag&&c.vakata.dnd.user_data.jstree&&this.dnd_finish(a)},this));c(document).bind("drag_stop.vakata",c.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1);this.data.dnd.to2&&clearTimeout(this.data.dnd.to2);this.data.dnd.i1&&clearInterval(this.data.dnd.i1);
this.data.dnd.i2&&clearInterval(this.data.dnd.i2);this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;this.data.dnd.off=!1;this.data.dnd.prepared=!1;this.data.dnd.w=!1;this.data.dnd.to1=!1;this.data.dnd.to2=!1;this.data.dnd.i1=!1;this.data.dnd.i2=!1;this.data.dnd.active=!1;this.data.dnd.foreign=!1;d&&d.css({top:"-2000px"});e&&e.css({top:"-2000px"})},this)).bind("drag_start.vakata",c.proxy(function(a,b){if(b.data.jstree){var d=c(b.event.target);d.closest(".jstree").hasClass("jstree-"+
this.get_index())&&this.dnd_enter(d)}},this));var f=this._get_settings().dnd;f.drag_target&&c(document).delegate(f.drag_target,"mousedown.jstree-"+this.get_index(),c.proxy(function(b){a=b.target;c.vakata.dnd.drag_start(b,{jstree:!0,obj:b.target},"\x3cins class\x3d'jstree-icon'\x3e\x3c/ins\x3e"+c(b.target).text());this.data.themes&&(d&&d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),c.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));
c.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var f=this.get_container();this.data.dnd.cof=f.offset();this.data.dnd.cw=parseInt(f.width(),10);this.data.dnd.ch=parseInt(f.height(),10);this.data.dnd.foreign=!0;b.preventDefault()},this));f.drop_target&&c(document).delegate(f.drop_target,"mouseenter.jstree-"+this.get_index(),c.proxy(function(b){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:a,r:c(b.target),e:b})&&c.vakata.dnd.helper.children("ins").attr("class",
"jstree-ok")},this)).delegate(f.drop_target,"mouseleave.jstree-"+this.get_index(),c.proxy(function(a){this.data.dnd.active&&c.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(f.drop_target,"mouseup.jstree-"+this.get_index(),c.proxy(function(b){this.data.dnd.active&&c.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:a,r:c(b.target),e:b})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,
drop_target:".jstree-drop",drop_check:function(a){return!0},drop_finish:c.noop,drag_target:".jstree-draggable",drag_finish:c.noop,drag_check:function(a){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(b&&b.length){this.data.dnd.off=b.offset();this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+b.width());if(this.data.dnd.foreign){var c=this._get_settings().dnd.drag_check.call(this,{o:a,r:b});this.data.dnd.after=c.after;this.data.dnd.before=c.before;
this.data.dnd.inside=c.inside;this.data.dnd.prepared=!0;return this.dnd_show()}this.prepare_move(a,b,"before");this.data.dnd.before=this.check_move();this.prepare_move(a,b,"after");this.data.dnd.after=this.check_move();this._is_loaded(b)?(this.prepare_move(a,b,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1;this.data.dnd.prepared=!0;return this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var a=["before","inside","after"],b=!1,f=this._get_settings().core.rtl,
a=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];c.each(a,c.proxy(function(a,d){if(this.data.dnd[d])return c.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),b=d,!1},this));!1===b&&c.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a=f?this.data.dnd.off.right-18:this.data.dnd.off.left+
10;switch(b){case "before":d.css({left:a+"px",top:this.data.dnd.off.top-6+"px"}).show();e&&e.css({left:a+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case "after":d.css({left:a+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show();e&&e.css({left:a+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case "inside":d.css({left:a+(f?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();e&&e.hide();break;default:d.hide(),
e&&e.hide()}return m=b}},dnd_open:function(){this.data.dnd.to2=!1;this.open_node(b,c.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(c){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:a,r:b,p:m}):(this.dnd_prepare(),this.move_node(a,b,m,c[this._get_settings().dnd.copy_modifier+"Key"]));b=a=!1;d.hide();e&&e.hide()},dnd_enter:function(a){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=
!1);var d=this._get_settings().dnd;this.data.dnd.prepared=!1;b=this._get_node(a);d.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(c.proxy(this.dnd_prepare,this),d.check_timeout)):this.dnd_prepare();d.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),b&&b.length&&b.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(c.proxy(this.dnd_open,this),d.open_timeout))):b&&b.length&&b.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(a){this.data.dnd.after=
!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;c.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");d.hide();e&&e.hide();b&&b[0]===a.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(b,f){a=this._get_node(b);this.data.ui&&this.is_selected(a)&&(a=this._get_node(null,!0));var h=1<a.length?this._get_string("multiple_selection"):this.get_text(a),
g=this.get_container();this._get_settings().core.html_titles||(h=h.replace(/</ig,"\x26lt;").replace(/>/ig,"\x26gt;"));c.vakata.dnd.drag_start(f,{jstree:!0,obj:a},"\x3cins class\x3d'jstree-icon'\x3e\x3c/ins\x3e"+h);this.data.themes&&(d&&d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),c.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));this.data.dnd.cof=g.offset();this.data.dnd.cw=parseInt(g.width(),10);this.data.dnd.ch=
parseInt(g.height(),10);this.data.dnd.active=!0}}});c(function(){c.vakata.css.add_sheet({str:"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }",
title:"jstree"});d=c("\x3cdiv /\x3e").attr({id:"jstree-marker"}).hide().html("\x26raquo;").bind("mouseleave mouseenter",function(a){d.hide();e.hide();a.preventDefault();a.stopImmediatePropagation();return!1}).appendTo("body");e=c("\x3cdiv /\x3e").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(a){if(b&&b.length)return b.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",function(a){var f=c(a.relatedTarget);if((f.is(".jstree")||0===f.closest(".jstree").length)&&
b&&b.length)return b.children("a").trigger(a),d.hide(),e.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1}).appendTo("body");c(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&(d.show(),e&&e.show())});c(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&(d.hide(),e&&e.hide())})})})(jQuery);(function(c){c.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;this.data.ui&&this.data.checkbox.noui&&(this.select_node=
this.deselect_node=this.deselect_all=c.noop,this.get_selected=this.get_checked);this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",c.proxy(function(a,b){this._prepare_checkboxes(b.rslt.obj)},this)).bind("loaded.jstree",c.proxy(function(a){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",c.proxy(function(a){a.preventDefault();this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):
this.check_node(a.target);if(this.data.ui&&this.data.checkbox.noui)this.save_selected(),this.data.cookies&&this.save_cookie("select_node");else return a.stopImmediatePropagation(),!1},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(a){return["check_"+(a[0].id||Math.ceil(1E4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},
_fn:{_checkbox_notify:function(a,b){b.checked&&this.check_node(a,!1)},_prepare_checkboxes:function(a){a=a&&-1!=a?this._get_node(a):this.get_container().find("\x3e ul \x3e li");if(!1!==a){var b,d=this,e,f=this._get_settings().checkbox.two_state,g=this._get_settings().checkbox.real_checkboxes,l=this._get_settings().checkbox.real_checkboxes_names;a.each(function(){e=c(this);b=e.is("li")&&(e.hasClass("jstree-checked")||g&&e.children(":checked").length)?"jstree-checked":"jstree-unchecked";e.find("li").andSelf().each(function(){var a=
c(this),e;a.children("a"+(d.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("\x3cins class\x3d'jstree-checkbox'\x3e\x26#160;\x3c/ins\x3e").parent().not(".jstree-checked, .jstree-unchecked").addClass(f?"jstree-unchecked":b);g&&(a.children(":checkbox").length?a.children(":checkbox").addClass("jstree-real-checkbox"):(e=l.call(d,a),a.prepend("\x3cinput type\x3d'checkbox' class\x3d'jstree-real-checkbox' id\x3d'"+e[0]+"' name\x3d'"+e[0]+"' value\x3d'"+e[1]+"' /\x3e")));f?(a.hasClass("jstree-checked")||
a.children(":checked").length)&&a.addClass("jstree-checked").children(":checkbox").prop("checked",!0):("jstree-checked"===b||a.hasClass("jstree-checked")||a.children(":checked").length)&&a.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})});f||a.find(".jstree-checked").parent().parent().each(function(){d._repair_state(this)})}},change_state:function(a,b){a=this._get_node(a);var d=!1,e=this._get_settings().checkbox.real_checkboxes;if(!a||-1===a)return!1;b=!1===
b||!0===b?b:a.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state)b?(a.removeClass("jstree-checked").addClass("jstree-unchecked"),e&&a.children(":checkbox").prop("checked",!1)):(a.removeClass("jstree-unchecked").addClass("jstree-checked"),e&&a.children(":checkbox").prop("checked",!0));else{if(b){d=a.find("li").andSelf();if(!d.filter(".jstree-checked, .jstree-undetermined").length)return!1;d.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");e&&d.children(":checkbox").prop("checked",
!1)}else{d=a.find("li").andSelf();if(!d.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;d.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");e&&d.children(":checkbox").prop("checked",!0);this.data.ui&&(this.data.ui.last_selected=a);this.data.checkbox.last_selected=a}a.parentsUntil(".jstree","li").each(function(){var a=c(this);if(b){if(a.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),
e&&a.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;a.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");e&&a.children(":checkbox").prop("checked",!1)}else{if(a.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),e&&a.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",
!1),!1;a.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");e&&a.children(":checkbox").prop("checked",!0)}})}this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked());this.__callback(a);return!0},check_node:function(a){if(this.change_state(a,!1)){a=this._get_node(a);if(this._get_settings().checkbox.checked_parent_open){var b=this;a.parents(".jstree-closed").each(function(){b.open_node(this,!1,!0)})}this.__callback({obj:a})}},uncheck_node:function(a){this.change_state(a,
!0)&&this.__callback({obj:this._get_node(a)})},check_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!1)});this.__callback()},uncheck_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!0)});this.__callback()},is_checked:function(a){a=this._get_node(a);
return a.length?a.is(".jstree-checked"):!1},get_checked:function(a,b){a=a&&-1!==a?this._get_node(a):this.get_container();return b||this._get_settings().checkbox.two_state?a.find(".jstree-checked"):a.find("\x3e ul \x3e .jstree-checked, .jstree-undetermined \x3e ul \x3e .jstree-checked")},get_unchecked:function(a,b){a=a&&-1!==a?this._get_node(a):this.get_container();return b||this._get_settings().checkbox.two_state?a.find(".jstree-unchecked"):a.find("\x3e ul \x3e .jstree-unchecked, .jstree-undetermined \x3e ul \x3e .jstree-unchecked")},
show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(a.length)if(this._get_settings().checkbox.two_state)a.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);else{var b=this._get_settings().checkbox.real_checkboxes,
c=a.find("\x3e ul \x3e .jstree-checked").length,e=a.find("\x3e ul \x3e .jstree-undetermined").length,f=a.find("\x3e ul \x3e li").length;0===f?a.hasClass("jstree-undetermined")&&this.change_state(a,!1):0===c&&0===e?this.change_state(a,!0):c===f?this.change_state(a,!1):(a.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),b&&a.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&
this.data.checkbox.noui){var a=this,b=this.data.ui.to_select,b=c.map(c.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();c.each(b,function(b,c){a.check_node(c)});this.__callback()}else this.__call_old()},save_loaded:function(){var a=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&a.data.core.to_load.push("#"+
this.id)})}}});c(function(){c.vakata.css.add_sheet({str:".jstree .jstree-real-checkbox { display:none; } ",title:"jstree"})})})(jQuery);(function(c){c.vakata.xslt=function(a,b,f){var g="",l;if(document.recalc)return l=document.createElement("xml"),g=document.createElement("xml"),l.innerHTML=a,g.innerHTML=b,c("body").append(l).append(g),setTimeout(function(a,b,d){return function(){d.call(null,a.transformNode(b.XMLDocument));setTimeout(function(a,b){return function(){c(a).remove();c(b).remove()}}(a,
b),200)}}(l,g,f),100),!0;"undefined"!==typeof window.DOMParser&&"undefined"!==typeof window.XMLHttpRequest&&"undefined"===typeof window.XSLTProcessor&&(a=(new DOMParser).parseFromString(a,"text/xml"),b=(new DOMParser).parseFromString(b,"text/xml"));if("undefined"!==typeof window.DOMParser&&"undefined"!==typeof window.XMLHttpRequest&&"undefined"!==typeof window.XSLTProcessor){l=new XSLTProcessor;g=c.isFunction(l.transformDocument)?"undefined"!==typeof window.XMLSerializer:!0;if(!g)return!1;a=(new DOMParser).parseFromString(a,
"text/xml");b=(new DOMParser).parseFromString(b,"text/xml");c.isFunction(l.transformDocument)?(g=document.implementation.createDocument("","",null),l.transformDocument(a,b,g,null),f.call(null,(new XMLSerializer).serializeToString(g))):(l.importStylesheet(b),g=l.transformToFragment(a,document),f.call(null,c("\x3cdiv /\x3e").append(g).html()));return!0}return!1};var a={nest:'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8" ?\x3e\x3cxsl:stylesheet version\x3d"1.0" xmlns:xsl\x3d"http://www.w3.org/1999/XSL/Transform" \x3e\x3cxsl:output method\x3d"html" encoding\x3d"utf-8" omit-xml-declaration\x3d"yes" standalone\x3d"no" indent\x3d"no" media-type\x3d"text/html" /\x3e\x3cxsl:template match\x3d"/"\x3e\t\x3cxsl:call-template name\x3d"nodes"\x3e\t\t\x3cxsl:with-param name\x3d"node" select\x3d"/root" /\x3e\t\x3c/xsl:call-template\x3e\x3c/xsl:template\x3e\x3cxsl:template name\x3d"nodes"\x3e\t\x3cxsl:param name\x3d"node" /\x3e\t\x3cul\x3e\t\x3cxsl:for-each select\x3d"$node/item"\x3e\t\t\x3cxsl:variable name\x3d"children" select\x3d"count(./item) \x26gt; 0" /\x3e\t\t\x3cli\x3e\t\t\t\x3cxsl:attribute name\x3d"class"\x3e\t\t\t\t\x3cxsl:if test\x3d"position() \x3d last()"\x3ejstree-last \x3c/xsl:if\x3e\t\t\t\t\x3cxsl:choose\x3e\t\t\t\t\t\x3cxsl:when test\x3d"@state \x3d \'open\'"\x3ejstree-open \x3c/xsl:when\x3e\t\t\t\t\t\x3cxsl:when test\x3d"$children or @hasChildren or @state \x3d \'closed\'"\x3ejstree-closed \x3c/xsl:when\x3e\t\t\t\t\t\x3cxsl:otherwise\x3ejstree-leaf \x3c/xsl:otherwise\x3e\t\t\t\t\x3c/xsl:choose\x3e\t\t\t\t\x3cxsl:value-of select\x3d"@class" /\x3e\t\t\t\x3c/xsl:attribute\x3e\t\t\t\x3cxsl:for-each select\x3d"@*"\x3e\t\t\t\t\x3cxsl:if test\x3d"name() !\x3d \'class\' and name() !\x3d \'state\' and name() !\x3d \'hasChildren\'"\x3e\t\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e\t\t\t\t\x3c/xsl:if\x3e\t\t\t\x3c/xsl:for-each\x3e\t\x3cins class\x3d"jstree-icon"\x3e\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\x3c/ins\x3e\t\t\t\x3cxsl:for-each select\x3d"content/name"\x3e\t\t\t\t\x3ca\x3e\t\t\t\t\x3cxsl:attribute name\x3d"href"\x3e\t\t\t\t\t\x3cxsl:choose\x3e\t\t\t\t\t\x3cxsl:when test\x3d"@href"\x3e\x3cxsl:value-of select\x3d"@href" /\x3e\x3c/xsl:when\x3e\t\t\t\t\t\x3cxsl:otherwise\x3e#\x3c/xsl:otherwise\x3e\t\t\t\t\t\x3c/xsl:choose\x3e\t\t\t\t\x3c/xsl:attribute\x3e\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3e\x3cxsl:value-of select\x3d"@lang" /\x3e \x3cxsl:value-of select\x3d"@class" /\x3e\x3c/xsl:attribute\x3e\t\t\t\t\x3cxsl:attribute name\x3d"style"\x3e\x3cxsl:value-of select\x3d"@style" /\x3e\x3c/xsl:attribute\x3e\t\t\t\t\x3cxsl:for-each select\x3d"@*"\x3e\t\t\t\t\t\x3cxsl:if test\x3d"name() !\x3d \'style\' and name() !\x3d \'class\' and name() !\x3d \'href\'"\x3e\t\t\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e\t\t\t\t\t\x3c/xsl:if\x3e\t\t\t\t\x3c/xsl:for-each\x3e\t\t\t\t\t\x3cins\x3e\t\t\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3ejstree-icon \t\t\t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and not(contains(@icon,\'/\'))"\x3e\x3cxsl:value-of select\x3d"@icon" /\x3e\x3c/xsl:if\x3e\t\t\t\t\t\t\x3c/xsl:attribute\x3e\t\t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and contains(@icon,\'/\')"\x3e\x3cxsl:attribute name\x3d"style"\x3ebackground:url(\x3cxsl:value-of select\x3d"@icon" /\x3e) center center no-repeat;\x3c/xsl:attribute\x3e\x3c/xsl:if\x3e\t\t\t\t\t\t\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\t\t\t\t\t\x3c/ins\x3e\t\t\t\t\t\x3cxsl:copy-of select\x3d"./child::node()" /\x3e\t\t\t\t\x3c/a\x3e\t\t\t\x3c/xsl:for-each\x3e\t\t\t\x3cxsl:if test\x3d"$children or @hasChildren"\x3e\x3cxsl:call-template name\x3d"nodes"\x3e\x3cxsl:with-param name\x3d"node" select\x3d"current()" /\x3e\x3c/xsl:call-template\x3e\x3c/xsl:if\x3e\t\t\x3c/li\x3e\t\x3c/xsl:for-each\x3e\t\x3c/ul\x3e\x3c/xsl:template\x3e\x3c/xsl:stylesheet\x3e',
flat:'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8" ?\x3e\x3cxsl:stylesheet version\x3d"1.0" xmlns:xsl\x3d"http://www.w3.org/1999/XSL/Transform" \x3e\x3cxsl:output method\x3d"html" encoding\x3d"utf-8" omit-xml-declaration\x3d"yes" standalone\x3d"no" indent\x3d"no" media-type\x3d"text/xml" /\x3e\x3cxsl:template match\x3d"/"\x3e\t\x3cul\x3e\t\x3cxsl:for-each select\x3d"//item[not(@parent_id) or @parent_id\x3d0 or not(@parent_id \x3d //item/@id)]"\x3e\t\t\x3cxsl:call-template name\x3d"nodes"\x3e\t\t\t\x3cxsl:with-param name\x3d"node" select\x3d"." /\x3e\t\t\t\x3cxsl:with-param name\x3d"is_last" select\x3d"number(position() \x3d last())" /\x3e\t\t\x3c/xsl:call-template\x3e\t\x3c/xsl:for-each\x3e\t\x3c/ul\x3e\x3c/xsl:template\x3e\x3cxsl:template name\x3d"nodes"\x3e\t\x3cxsl:param name\x3d"node" /\x3e\t\x3cxsl:param name\x3d"is_last" /\x3e\t\x3cxsl:variable name\x3d"children" select\x3d"count(//item[@parent_id\x3d$node/attribute::id]) \x26gt; 0" /\x3e\t\x3cli\x3e\t\x3cxsl:attribute name\x3d"class"\x3e\t\t\x3cxsl:if test\x3d"$is_last \x3d true()"\x3ejstree-last \x3c/xsl:if\x3e\t\t\x3cxsl:choose\x3e\t\t\t\x3cxsl:when test\x3d"@state \x3d \'open\'"\x3ejstree-open \x3c/xsl:when\x3e\t\t\t\x3cxsl:when test\x3d"$children or @hasChildren or @state \x3d \'closed\'"\x3ejstree-closed \x3c/xsl:when\x3e\t\t\t\x3cxsl:otherwise\x3ejstree-leaf \x3c/xsl:otherwise\x3e\t\t\x3c/xsl:choose\x3e\t\t\x3cxsl:value-of select\x3d"@class" /\x3e\t\x3c/xsl:attribute\x3e\t\x3cxsl:for-each select\x3d"@*"\x3e\t\t\x3cxsl:if test\x3d"name() !\x3d \'parent_id\' and name() !\x3d \'hasChildren\' and name() !\x3d \'class\' and name() !\x3d \'state\'"\x3e\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e\t\t\x3c/xsl:if\x3e\t\x3c/xsl:for-each\x3e\t\x3cins class\x3d"jstree-icon"\x3e\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\x3c/ins\x3e\t\x3cxsl:for-each select\x3d"content/name"\x3e\t\t\x3ca\x3e\t\t\x3cxsl:attribute name\x3d"href"\x3e\t\t\t\x3cxsl:choose\x3e\t\t\t\x3cxsl:when test\x3d"@href"\x3e\x3cxsl:value-of select\x3d"@href" /\x3e\x3c/xsl:when\x3e\t\t\t\x3cxsl:otherwise\x3e#\x3c/xsl:otherwise\x3e\t\t\t\x3c/xsl:choose\x3e\t\t\x3c/xsl:attribute\x3e\t\t\x3cxsl:attribute name\x3d"class"\x3e\x3cxsl:value-of select\x3d"@lang" /\x3e \x3cxsl:value-of select\x3d"@class" /\x3e\x3c/xsl:attribute\x3e\t\t\x3cxsl:attribute name\x3d"style"\x3e\x3cxsl:value-of select\x3d"@style" /\x3e\x3c/xsl:attribute\x3e\t\t\x3cxsl:for-each select\x3d"@*"\x3e\t\t\t\x3cxsl:if test\x3d"name() !\x3d \'style\' and name() !\x3d \'class\' and name() !\x3d \'href\'"\x3e\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e\t\t\t\x3c/xsl:if\x3e\t\t\x3c/xsl:for-each\x3e\t\t\t\x3cins\x3e\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3ejstree-icon \t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and not(contains(@icon,\'/\'))"\x3e\x3cxsl:value-of select\x3d"@icon" /\x3e\x3c/xsl:if\x3e\t\t\t\t\x3c/xsl:attribute\x3e\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and contains(@icon,\'/\')"\x3e\x3cxsl:attribute name\x3d"style"\x3ebackground:url(\x3cxsl:value-of select\x3d"@icon" /\x3e) center center no-repeat;\x3c/xsl:attribute\x3e\x3c/xsl:if\x3e\t\t\t\t\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\t\t\t\x3c/ins\x3e\t\t\t\x3cxsl:copy-of select\x3d"./child::node()" /\x3e\t\t\x3c/a\x3e\t\x3c/xsl:for-each\x3e\t\x3cxsl:if test\x3d"$children"\x3e\t\t\x3cul\x3e\t\t\x3cxsl:for-each select\x3d"//item[@parent_id\x3d$node/attribute::id]"\x3e\t\t\t\x3cxsl:call-template name\x3d"nodes"\x3e\t\t\t\t\x3cxsl:with-param name\x3d"node" select\x3d"." /\x3e\t\t\t\t\x3cxsl:with-param name\x3d"is_last" select\x3d"number(position() \x3d last())" /\x3e\t\t\t\x3c/xsl:call-template\x3e\t\t\x3c/xsl:for-each\x3e\t\t\x3c/ul\x3e\t\x3c/xsl:if\x3e\t\x3c/li\x3e\x3c/xsl:template\x3e\x3c/xsl:stylesheet\x3e'},
b=function(a){return a.toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26apos;")};c.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(a,b,c){var g=this;this.load_node_xml(a,function(){g.__callback({obj:g._get_node(a)});b.call(this)},c)},_is_loaded:function(a){var b=this._get_settings().xml_data;a=this._get_node(a);
return-1==a||!a||!b.ajax&&!c.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_xml:function(a,b,f){var g=this.get_settings().xml_data,l=function(){},h=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case !g.data&&!g.ajax:throw"Neither data nor ajax settings supplied.";case c.isFunction(g.data):g.data.call(this,a,c.proxy(function(f){this.parse_xml(f,c.proxy(function(f){f&&
(f=f.replace(/ ?xmlns="[^"]*"/ig,""),10<f.length?(f=c(f),-1!==a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(f),a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(f.children()),g.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),g.correct_state&&(this.correct_state(a),b&&b.call(this))):g.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},this));break;case !!g.data&&!g.ajax||!!g.data&&!!g.ajax&&(!a||-1===a):a&&-1!=a||this.parse_xml(g.data,c.proxy(function(f){f?(f=f.replace(/ ?xmlns="[^"]*"/ig,""),10<f.length&&(f=c(f),this.get_container().children("ul").empty().append(f.children()),g.clean_node&&this.clean_node(a),b&&b.call(this))):g.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},this));break;case !g.data&&!!g.ajax||!!g.data&&!!g.ajax&&a&&-1!==a:l=function(b,c,e){var h=this.get_settings().xml_data.ajax.error;
h&&h.call(this,b,c,e);-1!==a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===c&&g.correct_state&&this.correct_state(a)):"success"===c&&g.correct_state&&this.get_container().children("ul").empty();f&&f.call(this)},h=function(f,h,p){f=p.responseText;var n=this.get_settings().xml_data.ajax.success;n&&(f=n.call(this,f,h,p)||f);if(""===f||f&&f.toString&&""===f.toString().replace(/^[\s\n]+$/,""))return l.call(this,p,h,"");this.parse_xml(f,
c.proxy(function(f){f&&(f=f.replace(/ ?xmlns="[^"]*"/ig,""),10<f.length?(f=c(f),-1!==a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(f),a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(f.children()),g.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),g.correct_state&&(this.correct_state(a),b&&b.call(this))):g.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},g.ajax.context=this,g.ajax.error=l,g.ajax.success=h,g.ajax.dataType||(g.ajax.dataType="xml"),c.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),c.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),c.ajax(g.ajax)}},parse_xml:function(b,e){var f=this._get_settings().xml_data;c.vakata.xslt(b,a[f.xsl],e)},get_xml:function(a,e,f,g,l){var h="",m=this._get_settings(),k=this,p,n,q,r,t;a||(a="flat");l||(l=0);(e=this._get_node(e))&&-1!==e||(e=this.get_container().find("\x3e ul \x3e li"));
f=c.isArray(f)?f:["id","class"];!l&&this.data.types&&-1===c.inArray(m.types.type_attr,f)&&f.push(m.types.type_attr);g=c.isArray(g)?g:[];l||(m.xml_data.get_include_preamble&&(h+='\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e'),h+="\x3croot\x3e");e.each(function(){h+="\x3citem";q=c(this);c.each(f,function(a,c){var d=q.attr(c);m.xml_data.get_skip_empty&&"undefined"===typeof d||(h+=" "+c+'\x3d"'+b((" "+(d||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+
'"')});q.hasClass("jstree-open")&&(h+=' state\x3d"open"');q.hasClass("jstree-closed")&&(h+=' state\x3d"closed"');"flat"===a&&(h+=' parent_id\x3d"'+b(l)+'"');h+="\x3e";h+="\x3ccontent\x3e";r=q.children("a");r.each(function(){p=c(this);t=!1;h+="\x3cname";-1!==c.inArray("languages",m.plugins)&&c.each(m.languages,function(a,c){if(p.hasClass(c))return h+=' lang\x3d"'+b(c)+'"',t=c,!1});g.length&&c.each(g,function(a,c){var d=p.attr(c);m.xml_data.get_skip_empty&&"undefined"===typeof d||(h+=" "+c+'\x3d"'+
b((" "+d||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"')});p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(h+=' icon\x3d"'+b(p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"');p.children("ins").get(0).style.backgroundImage.length&&(h+=' icon\x3d"'+b(p.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,
"").replace(/"/ig,""))+'"');h+="\x3e";h+="\x3c![CDATA["+k.get_text(p,t)+"]]\x3e";h+="\x3c/name\x3e"});h+="\x3c/content\x3e";n=q[0].id||!0;q=q.find("\x3e ul \x3e li");n=q.length?k.get_xml(a,q,f,g,n):"";"nest"==a&&(h+=n);h+="\x3c/item\x3e";"flat"==a&&(h+=n)});l||(h+="\x3c/root\x3e");return h}}})})(jQuery);(function(c){c.expr[":"].jstree_contains=function(a,b,c){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())};c.expr[":"].jstree_title_contains=function(a,b,c){return 0<=
(a.getAttribute("title")||"").toLowerCase().indexOf(c[3].toLowerCase())};c.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=c();this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(a,b){c(this).children("ul").find("li").hide().removeClass("jstree-last");b.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){c(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",
function(){c(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(a,b){if(""===c.trim(a))this.clear_search();else{var d=this.get_settings().search,e=this,f=function(){};this.data.search.str=a;if(!b&&!1!==d.ajax&&0<this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length){this.search.supress_callback=!0;f=function(a,b,c){var d=this.get_settings().search.ajax.success;
d&&(a=d.call(this,a,b,c)||a);this.data.search.to_open=a;this._search_open()};d.ajax.context=this;d.ajax.error=function(){};d.ajax.success=f;c.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,a));c.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,a));d.ajax.data||(d.ajax.data={search_string:a});if(!d.ajax.dataType||/^json/.exec(d.ajax.dataType))d.ajax.dataType="json";c.ajax(d.ajax)}else this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+
(this.data.languages?"."+this.get_lang():"")+":"+d.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){e.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:a})}},clear_search:function(a){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=c()},_search_open:function(a){var b=this;a=!0;var d=[],e=[];this.data.search.to_open.length&&
(c.each(this.data.search.to_open,function(a,b){if("#"==b)return!0;c(b).length&&c(b).is(".jstree-closed")?d.push(b):e.push(b)}),d.length&&(this.data.search.to_open=e,c.each(d,function(a,c){b.open_node(c,function(){b._search_open(!0)})}),a=!1));a&&this.search(this.data.search.str,!0)}}})})(jQuery);(function(c){c.vakata.context={hide_on_mouseleave:!1,cnt:c("\x3cdiv id\x3d'vakata-contextmenu' /\x3e"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(a,b,d,e,f,g,l){c.vakata.context.rtl=!!l;if(a=
c.vakata.context.parse(a)){c.vakata.context.vis=!0;c.vakata.context.tgt=b;c.vakata.context.par=g||b||null;c.vakata.context.data=f||null;c.vakata.context.cnt.html(a).css({visibility:"hidden",display:"block",left:0,top:0});if(c.vakata.context.hide_on_mouseleave)c.vakata.context.cnt.one("mouseleave",function(a){c.vakata.context.hide()});f=c.vakata.context.cnt.height();g=c.vakata.context.cnt.width();d+g>c(document).width()&&(d=c(document).width()-(g+5),c.vakata.context.cnt.find("li \x3e ul").addClass("right"));
e+f>c(document).height()&&(e-=f+b[0].offsetHeight,c.vakata.context.cnt.find("li \x3e ul").addClass("bottom"));c.vakata.context.cnt.css({left:d,top:e}).find("li:has(ul)").bind("mouseenter",function(a){a=c(document).width();var b=c(document).height(),d=c(this).children("ul").show();a!==c(document).width()&&d.toggleClass("right");b!==c(document).height()&&d.toggleClass("bottom")}).bind("mouseleave",function(a){c(this).children("ul").hide()}).end().css({visibility:"visible"}).show();c(document).triggerHandler("context_show.vakata")}},
hide:function(){c.vakata.context.vis=!1;c.vakata.context.cnt.attr("class","").css({visibility:"hidden"});c(document).triggerHandler("context_hide.vakata")},parse:function(a,b){if(!a)return!1;var d="",e=!1,f=!0;b||(c.vakata.context.func={});d+="\x3cul\x3e";c.each(a,function(a,b){if(!b)return!0;c.vakata.context.func[a]=b.action;!f&&b.separator_before&&(d+="\x3cli class\x3d'vakata-separator vakata-separator-before'\x3e\x3c/li\x3e");f=!1;d+="\x3cli class\x3d'"+(b._class||"")+(b._disabled?" jstree-contextmenu-disabled ":
"")+"'\x3e\x3cins ";b.icon&&-1===b.icon.indexOf("/")&&(d+=" class\x3d'"+b.icon+"' ");b.icon&&-1!==b.icon.indexOf("/")&&(d+=" style\x3d'background:url("+b.icon+") center center no-repeat;' ");d+="\x3e\x26#160;\x3c/ins\x3e\x3ca href\x3d'#' rel\x3d'"+a+"'\x3e";b.submenu&&(d+="\x3cspan style\x3d'float:"+(c.vakata.context.rtl?"left":"right")+";'\x3e\x26raquo;\x3c/span\x3e");d+=b.label+"\x3c/a\x3e";b.submenu&&(e=c.vakata.context.parse(b.submenu,!0))&&(d+=e);d+="\x3c/li\x3e";b.separator_after&&(d+="\x3cli class\x3d'vakata-separator vakata-separator-after'\x3e\x3c/li\x3e",
f=!0)});d=d.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");d+="\x3c/ul\x3e";c(document).triggerHandler("context_parse.vakata");return 10<d.length?d:!1},exec:function(a){return c.isFunction(c.vakata.context.func[a])?(c.vakata.context.func[a].call(c.vakata.context.data,c.vakata.context.par),!0):!1}};c(function(){c.vakata.css.add_sheet({str:"#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover \x3e a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ",
title:"vakata"});c.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(a){!c(this).parent().hasClass("jstree-contextmenu-disabled")&&c.vakata.context.exec(c(this).attr("rel"))?c.vakata.context.hide():c(this).blur()}).delegate("a","mouseover",function(){c.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");c(document).bind("mousedown",function(a){c.vakata.context.vis&&!c.contains(c.vakata.context.cnt[0],a.target)&&
c.vakata.context.hide()});"undefined"!==typeof c.hotkeys&&c(document).bind("keydown","up",function(a){if(c.vakata.context.vis){var b=c.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();b.length||(b=c.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","down",function(a){if(c.vakata.context.vis){var b=
c.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();b.length||(b=c.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","right",function(a){c.vakata.context.vis&&(c.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),
a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","left",function(a){c.vakata.context.vis&&(c.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","esc",function(a){c.vakata.context.hide();a.preventDefault()}).bind("keydown","space",function(a){c.vakata.context.cnt.find(".vakata-hover").last().children("a").click();a.preventDefault()})});c.jstree.plugin("contextmenu",
{__init:function(){this.get_container().delegate("a","contextmenu.jstree",c.proxy(function(a){a.preventDefault();c(a.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(a.currentTarget,a.pageX,a.pageY)},this)).delegate("a","click.jstree",c.proxy(function(a){this.data.contextmenu&&c.vakata.context.hide()},this)).bind("destroy.jstree",c.proxy(function(){this.data.contextmenu&&c.vakata.context.hide()},this));c(document).bind("context_hide.vakata",c.proxy(function(){this.data.contextmenu=
!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.is_selected(a)?this.remove():this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,
separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(a,b,d){a=this._get_node(a);var e=this.get_settings().contextmenu,f=a.children("a:visible:eq(0)"),g=!1,g=!1;e.select_node&&this.data.ui&&!this.is_selected(a)&&(this.deselect_all(),this.select_node(a,!0));
if(e.show_at_node||"undefined"===typeof b||"undefined"===typeof d)g=f.offset(),b=g.left,d=g.top+this.data.core.li_height;g=a.data("jstree")&&a.data("jstree").contextmenu?a.data("jstree").contextmenu:e.items;c.isFunction(g)&&(g=g.call(this,a));this.data.contextmenu=!0;c.vakata.context.show(g,f,b,d,this,a,this._get_settings().core.rtl);this.data.themes&&c.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})})(jQuery);(function(c){c.jstree.plugin("types",{__init:function(){var a=
this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",c.proxy(function(){var b=a.type_attr,d="",e=this;c.each(a.types,function(a,g){c.each(g,function(a,b){/^(max_depth|max_children|icon|valid_children)$/.test(a)||e.data.types.attach_to.push(a)});if(!g.icon)return!0;if(g.icon.image||g.icon.position)d="default"==a?d+(".jstree-"+e.get_index()+" a \x3e .jstree-icon { "):d+(".jstree-"+e.get_index()+" li["+b+'\x3d"'+a+'"] \x3e a \x3e .jstree-icon { '),g.icon.image&&
(d+=" background-image:url("+g.icon.image+"); "),d=g.icon.position?d+(" background-position:"+g.icon.position+"; "):d+" background-position:0 0; ",d+="} "});""!==d&&c.vakata.css.add_sheet({str:d,title:"jstree-types"})},this)).bind("before.jstree",c.proxy(function(a,d){var e,f;if((e=(e=this._get_settings().types.use_data?this._get_node(d.args[0]):!1)&&-1!==e&&e.length?e.data("jstree"):!1)&&e.types&&!1===e.types[d.func]||-1!==c.inArray(d.func,this.data.types.attach_to)&&d.args[0]&&(d.args[0].tagName||
d.args[0].jquery)&&(e=this._get_settings().types.types,f=this._get_type(d.args[0]),(e[f]&&"undefined"!==typeof e[f][d.func]||e["default"]&&"undefined"!==typeof e["default"][d.func])&&!1===this._check(d.func,d.args[0])))return a.stopImmediatePropagation(),!1},this));r&&this.get_container().bind("load_node.jstree set_type.jstree",c.proxy(function(a,d){var e=d&&d.rslt&&d.rslt.obj&&-1!==d.rslt.obj?this._get_node(d.rslt.obj).parent():this.get_container_ul(),f=!1,g=this._get_settings().types;c.each(g.types,
function(a,b){b.icon&&(b.icon.image||b.icon.position)&&(f="default"===a?e.find("li \x3e a \x3e .jstree-icon"):e.find("li["+g.type_attr+"\x3d'"+a+"'] \x3e a \x3e .jstree-icon"),b.icon.image&&f.css("backgroundImage","url("+b.icon.image+")"),f.css("backgroundPosition",b.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(a,b){b.type&&
this._get_settings().types.use_data&&this.set_type(b.type,a)},_get_type:function(a){return(a=this._get_node(a))&&a.length?a.attr(this._get_settings().types.type_attr)||"default":!1},set_type:function(a,b){b=this._get_node(b);var c=b.length&&a?b.attr(this._get_settings().types.type_attr,a):!1;c&&this.__callback({obj:b,type:a});return c},_check:function(a,b,d){b=this._get_node(b);var e=!1,f=this._get_type(b),g=0,l=this,h=this._get_settings().types,m=!1;if(-1===b)if(h[a])e=h[a];else return;else{if(!1===
f)return;(m=h.use_data?b.data("jstree"):!1)&&m.types&&"undefined"!==typeof m.types[a]?e=m.types[a]:h.types[f]&&"undefined"!==typeof h.types[f][a]?e=h.types[f][a]:h.types["default"]&&"undefined"!==typeof h.types["default"][a]&&(e=h.types["default"][a])}c.isFunction(e)&&(e=e.call(this,b));"max_depth"===a&&-1!==b&&!1!==d&&-2!==h.max_depth&&0!==e&&b.children("a:eq(0)").parentsUntil(".jstree","li").each(function(b){if(-1!==h.max_depth&&0>=h.max_depth-(b+1))return e=0,!1;g=0===b?e:l._check(a,this,!1);if(-1!==
g&&0>=g-(b+1))return e=0,!1;0<=g&&(g-(b+1)<e||0>e)&&(e=g-(b+1));0<=h.max_depth&&(h.max_depth-(b+1)<e||0>e)&&(e=h.max_depth-(b+1))});return e},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),b=a.rt._get_settings().types,d=a.rt._check("max_children",a.cr),e=a.rt._check("max_depth",a.cr),f=a.rt._check("valid_children",a.cr),g=0,l=1;if("none"===f||c.isArray(f)&&a.ot&&a.ot._get_type&&(a.o.each(function(){if(-1===c.inArray(a.ot._get_type(this),f))return l=!1}),!1===l)||-2!==
b.max_children&&-1!==d&&(g=-1===a.cr?this.get_container().find("\x3e ul \x3e li").not(a.o).length:a.cr.find("\x3e ul \x3e li").not(a.o).length,g+a.o.length>d))return!1;if(-2!==b.max_depth&&-1!==e){l=0;if(0===e)return!1;if("undefined"===typeof a.o.d){for(b=a.o;0<b.length;)b=b.find("\x3e ul \x3e li"),l++;a.o.d=l}if(0>e-a.o.d)return!1}return!0},create_node:function(a,b,d,e,f,g){if(!g&&(f||this._is_loaded(a))){var l="string"==typeof b&&b.match(/^before|after$/i)&&-1!==a?this._get_parent(a):this._get_node(a),
h=this._get_settings().types,m=this._check("max_children",l),k=this._check("max_depth",l),p=this._check("valid_children",l);"string"===typeof d&&(d={data:d});d||(d={});if("none"===p)return!1;if(c.isArray(p))if(!d.attr||!d.attr[h.type_attr])d.attr||(d.attr={}),d.attr[h.type_attr]=p[0];else if(-1===c.inArray(d.attr[h.type_attr],p))return!1;if(-2!==h.max_children&&-1!==m&&(l=-1===l?this.get_container().find("\x3e ul \x3e li").length:l.find("\x3e ul \x3e li").length,l+1>m)||-2!==h.max_depth&&-1!==k&&
0>k-1)return!1}return this.__call_old(!0,a,b,d,e,f,g)}}})})(jQuery);(function(c){c.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" \x3e ul \x3e li").clone(!0);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,b,c){var e=this;this.load_node_html(a,function(){e.__callback({obj:e._get_node(a)});
b.call(this)},c)},_is_loaded:function(a){a=this._get_node(a);return-1==a||!a||!this._get_settings().html_data.ajax&&!c.isFunction(this._get_settings().html_data.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_html:function(a,b,d){var e,f=this.get_settings().html_data,g=function(){};e=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case c.isFunction(f.data):f.data.call(this,
a,c.proxy(function(d){d&&""!==d&&d.toString&&""!==d.toString().replace(/^[\s\n]+$/,"")?(d=c(d),d.is("ul")||(d=c("\x3cul /\x3e").append(d)),-1!=a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),
a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),
f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},this));break;case !f.data&&!f.ajax:a&&-1!=a||(this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),
this.clean_node());b&&b.call(this);break;case !!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!a||-1===a):a&&-1!=a||(e=c(f.data),e.is("ul")||(e=c("\x3cul /\x3e").append(e)),this.get_container().children("ul").empty().append(e.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),
this.clean_node());b&&b.call(this);break;case !f.data&&!!f.ajax||!!f.data&&!!f.ajax&&a&&-1!==a:a=this._get_node(a),g=function(b,c,e){var g=this.get_settings().html_data.ajax.error;g&&g.call(this,b,c,e);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===c&&f.correct_state&&this.correct_state(a)):"success"===c&&f.correct_state&&this.get_container().children("ul").empty();d&&d.call(this)},e=function(d,e,m){var k=this.get_settings().html_data.ajax.success;
k&&(d=k.call(this,d,e,m)||d);if(""===d||d&&d.toString&&""===d.toString().replace(/^[\s\n]+$/,""))return g.call(this,m,e,"");d?(d=c(d),d.is("ul")||(d=c("\x3cul /\x3e").append(d)),-1!=a&&a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),
a.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),
f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},f.ajax.context=this,f.ajax.error=g,f.ajax.success=e,f.ajax.dataType||(f.ajax.dataType="html"),c.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a)),c.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),c.ajax(f.ajax)}}}});c.jstree.defaults.plugins.push("html_data")})(jQuery);(function(c){c.jstree.plugin("themeroller",{__init:function(){var a=
this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(b){c(b.currentTarget).hasClass("jstree-loading")||c(this).addClass(a.item_h)}).delegate("a","mouseleave.jstree",function(){c(this).removeClass(a.item_h)}).bind("init.jstree",c.proxy(function(a,c){c.inst.get_container().find("\x3e ul \x3e li \x3e .jstree-loading \x3e ins").addClass("ui-icon-refresh");this._themeroller(c.inst.get_container().find("\x3e ul \x3e li"))},
this)).bind("open_node.jstree create_node.jstree",c.proxy(function(a,c){this._themeroller(c.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",c.proxy(function(a){this._themeroller()},this)).bind("close_node.jstree",c.proxy(function(a,c){this._themeroller(c.rslt.obj)},this)).bind("delete_node.jstree",c.proxy(function(a,c){this._themeroller(c.rslt.parent)},this)).bind("correct_state.jstree",c.proxy(function(b,c){c.rslt.obj.children("ins.jstree-icon").removeClass(a.opened+" "+a.closed+" ui-icon").end().find("\x3e a \x3e ins.ui-icon").filter(function(){return-1===
this.className.toString().replace(a.item_clsd,"").replace(a.item_open,"").replace(a.item_leaf,"").indexOf("ui-icon-")}).removeClass(a.item_open+" "+a.item_clsd).addClass(a.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",c.proxy(function(b,c){c.rslt.obj.children("a").addClass(a.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",c.proxy(function(b,c){this.get_container().find("a."+a.item_a).removeClass(a.item_a).end().find("a.jstree-clicked").addClass(a.item_a)},this)).bind("dehover_node.jstree",
c.proxy(function(b,c){c.rslt.obj.children("a").removeClass(a.item_h)},this)).bind("hover_node.jstree",c.proxy(function(b,c){this.get_container().find("a."+a.item_h).not(c.rslt.obj).removeClass(a.item_h);c.rslt.obj.children("a").addClass(a.item_h)},this)).bind("move_node.jstree",c.proxy(function(a,c){this._themeroller(c.rslt.o);this._themeroller(c.rslt.op)},this))},__destroy:function(){var a=this._get_settings().themeroller,b=["ui-icon"];c.each(a,function(a,c){c=c.split(" ");c.length&&(b=b.concat(c))});
this.get_container().removeClass("ui-widget-content").find("."+b.join(", .")).removeClass(b.join(" "))},_fn:{_themeroller:function(a){var b=this._get_settings().themeroller;a=a&&-1!=a?this._get_node(a).parent():this.get_container_ul();a.find("li.jstree-closed").children("ins.jstree-icon").removeClass(b.opened).addClass("ui-icon "+b.closed).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,
"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+" "+b.item_open).addClass(b.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(b.closed).addClass("ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+
" "+b.item_clsd).addClass(b.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(b.closed+" ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_clsd+" "+b.item_open).addClass(b.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",
closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}});c(function(){c.vakata.css.add_sheet({str:".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }",title:"jstree"})})})(jQuery);(function(c){c.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",
c.proxy(function(a,b){var d=[],e=!0,f;"move_node"==b.func&&!0===b.args[4]&&b.args[0].o&&b.args[0].o.length&&(b.args[0].o.children("a").each(function(){d.push(c(this).text().replace(/^\s+/g,""))}),e=this._check_unique(d,b.args[0].np.find("\x3e ul \x3e li").not(b.args[0].o),"move_node"));"create_node"==b.func&&(b.args[4]||this._is_loaded(b.args[0]))&&(e=this._get_node(b.args[0]),!b.args[1]||"before"!==b.args[1]&&"after"!==b.args[1]||(e=this._get_parent(b.args[0]))&&-1!==e||(e=this.get_container()),
"string"===typeof b.args[2]?d.push(b.args[2]):b.args[2]&&b.args[2].data?d.push(b.args[2].data):d.push(this._get_string("new_node")),e=this._check_unique(d,e.find("\x3e ul \x3e li"),"create_node"));"rename_node"==b.func&&(d.push(b.args[1]),f=this._get_node(b.args[0]),(e=this._get_parent(f))&&-1!==e||(e=this.get_container()),e=this._check_unique(d,e.find("\x3e ul \x3e li").not(f),"rename_node"));if(!e)return a.stopPropagation(),!1},this))},defaults:{error_callback:c.noop},_fn:{_check_unique:function(a,
b,d){var e=[];b.children("a").each(function(){e.push(c(this).text().replace(/^\s+/g,""))});if(!e.length||!a.length)return!0;e=e.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");return e.length+a.length!=e.concat(a).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?(this._get_settings().unique.error_callback.call(null,a,b,d),!1):!0},check_move:function(){if(!this.__call_old())return!1;
var a=this._get_move(),b=[];return a.o&&a.o.length?(a.o.children("a").each(function(){b.push(c(this).text().replace(/^\s+/g,""))}),this._check_unique(b,a.np.find("\x3e ul \x3e li").not(a.o),"check_move")):!0}}})})(jQuery);(function(c){c.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1;this.data.wholerow.to=!1;this.get_container().bind("init.jstree",c.proxy(function(a,b){this._get_settings().core.animation=
0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",c.proxy(function(a,b){this._prepare_wholerow_span(b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",c.proxy(function(a,b){this.data.to&&clearTimeout(this.data.to);this.data.to=setTimeout(function(a,b){return function(){a._prepare_wholerow_ul(b)}}(this,b&&b.rslt&&b.rslt.obj?
b.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",c.proxy(function(a,b){this.get_container().find(" \x3e .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",c.proxy(function(a,b){b.rslt.obj.each(function(){b.inst.get_container().find(" \x3e .jstree-wholerow li:visible:eq("+parseInt((c(this).offset().top-b.inst.get_container().offset().top+b.inst.get_container()[0].scrollTop)/
b.inst.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",c.proxy(function(a,b){this.get_container().find(" \x3e .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));"hover_node"===a.type&&this.get_container().find(" \x3e .jstree-wholerow li:visible:eq("+parseInt((b.rslt.obj.offset().top-this.get_container().offset().top+
this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children(".jstree-hovered").attr("class"))},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(a){var b=c(a.currentTarget);"A"===a.target.tagName||"INS"===a.target.tagName&&b.closest("li").is(".jstree-open, .jstree-closed")||(b.closest("li").children("a:visible:eq(0)").click(),a.stopImmediatePropagation())}).delegate("li","mouseover.jstree",c.proxy(function(a){a.stopImmediatePropagation();
if(c(a.currentTarget).children(".jstree-hovered, .jstree-clicked").length)return!1;this.hover_node(a.currentTarget);return!1},this)).delegate("li","mouseleave.jstree",c.proxy(function(a){c(a.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(a.currentTarget)},this));(t||r)&&c.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();this.get_container().find(".jstree-wholerow-span").remove()},
_fn:{_prepare_wholerow_span:function(a){a=a&&-1!=a?this._get_node(a):this.get_container().find("\x3e ul \x3e li");!1!==a&&a.each(function(){c(this).find("li").andSelf().each(function(){var a=c(this);if(a.children(".jstree-wholerow-span").length)return!0;a.prepend("\x3cspan class\x3d'jstree-wholerow-span' style\x3d'width:"+18*a.parentsUntil(".jstree","li").length+"px;'\x3e\x26#160;\x3c/span\x3e")})})},_prepare_wholerow_ul:function(){var a=this.get_container().children("ul").eq(0),b=a.html();a.addClass("jstree-wholerow-real");
this.data.wholerow.last_html!==b&&(this.data.wholerow.last_html=b,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(a.clone().removeClass("jstree-wholerow-real").wrapAll("\x3cdiv class\x3d'jstree-wholerow' /\x3e").parent().width(a.parent()[0].scrollWidth).css("top",-1*(a.height()+(t?5:0))).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}});c(function(){var a=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";
u&&(a+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } ");if(t||r)a+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";c.vakata.css.add_sheet({str:a,title:"jstree"})})})(jQuery);(function(c){var a=
["getChildren","getChildrenCount","getAttr","getName","getProps"],b=function(a,b){var f=!0;a=a||{};b=[].concat(b);c.each(b,function(b,e){if(!c.isFunction(a[e]))return f=!1});return f};c.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(d,e){var f=-1==d?this._get_settings().model.object:d.data("jstree_model");if(!b(f,a))return e.call(null,!1);this._get_settings().model.async?f.getChildren(c.proxy(function(a){this.model_done(a,
e)},this)):this.model_done(f.getChildren(),e)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(a,b){var f=[],g=this._get_settings(),l=this;c.isArray(a)||(a=[a]);c.each(a,function(a,b){var d=b.getProps()||{};d.attr=b.getAttr()||{};b.getChildrenCount()&&(d.state="closed");d.data=b.getName();c.isArray(d.data)||(d.data=[d.data]);l.data.types&&c.isFunction(b.getType)&&(d.attr[g.types.type_attr]=b.getType());d.attr.id&&g.model.id_prefix&&(d.attr.id=g.model.id_prefix+d.attr.id);d.metadata||
(d.metadata={});d.metadata.jstree_model=b;f.push(d)});b.call(null,f)}}})})(jQuery)}})();